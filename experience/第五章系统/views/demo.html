<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<title>主页面</title>
<head>
    <meta charset="UTF-8">
    <!--<script th:src="@{/resources/js/jquery-3.3.1.min.js}"-->
    <!--type="text/javascript"></script>-->
    <!--        <script th:src="@{/resources/js/polling_overallState.js}"-->
    <!--                type="text/javascript"></script>-->
    <link rel="stylesheet"
          th:href="@{/resources/css/bootstrap.min.css}">
    <link rel="stylesheet"
          th:href="@{/resources/css/bootstrap-switch.min.css}">


    <link rel="stylesheet"
          th:href="@{/resources/css/node.css}">
    <link rel="stylesheet"
          th:href="@{/resources/plugings/layui/css/layui.css}">
    <link rel="stylesheet"
          th:href="@{/resources/css/jedate.css}">
    <link rel="stylesheet"
          th:href="@{/resources/plugings/font-awesome-4.7.0/css/font-awesome.min.css}">
    <link rel="stylesheet"
          th:href="@{/resources/plugings/jquery-ui-1.12.1.custom/jquery-ui.min.css}">
    <link rel="stylesheet"
          th:href="@{/resources/css/web.contextmenu.css}">
    <link rel="stylesheet"
          th:href="@{/resources/css/dataTables.bootstrap.min.css}">
    <!--<link rel="stylesheet"-->
    <!--th:href="@{/resources/css/font-awesome.css}">-->

    <link rel="stylesheet"
          th:href="@{/resources/css/style.css}">
    <!-- <link rel="stylesheet"
           th:href="@{/resources/css/uestc.css}">-->

    <style>
         #allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
        li.TabHead {
            width: 25%;
        }

        /* html,body {
             height: 100%;
             margin: 0;
             padding: 0;
             !*background-color: #eeeeee;*!
         }*/

        /* 页头 */
        .header {
            clear: both;
            height: 60px;
            z-index: 1000;
            background-color: #36507c;
        }
         .axis path,
         .axis line{
             fill: none;
             stroke: black;
             shape-rendering: crispEdges;
         }

         .axis text {
             font-family: sans-serif;
             font-size: 11px;
         }

         .MyRect {
             fill: steelblue;
         }

         .MyText {
             fill: white;
             text-anchor: middle;
         }
        /* 页中 */
        .middle {
            height: 90%;
        }

        .middle #toolsBurId {
            float: left;
            width: 15%;
            height: 100%;
        }
         .middle #center_list {
             float: left;
             width: 16%;
             height: 100%;
         }

        .middle #Container {
            background-image: url(https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1568545645080&di=c349a257f2008e34a6d011cc3aa32197&imgtype=0&src=http%3A%2F%2Fdown1.sucaitianxia.net%2Fai%2F20%2Fai4165.jpg);
        }

        .middle #canvasId {
            float: left;
            width: 58%;
            height: 100%;

            /* 边框 */
            border: 1px solid gray;
            /* 网格背景图 */
            /*  background-image: url(https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1568545645080&di=c349a257f2008e34a6d011cc3aa32197&imgtype=0&src=http%3A%2F%2Fdown1.sucaitianxia.net%2Fai%2F20%2Fai4165.jpg);*/
            /* 铺满 */
            background-repeat: repeat;
            /* 设置画布可滚动 */
            overflow: scroll;
            /* 设置层叠等级 */
            z-index: -1;
        }

         .middle #threat_model_container {
             float: left;
             width: 84%;
             height: 100%;
             /* 边框 */
            /*border: 1px solid gray;*/

         }


        .middle #attrPanelId {
            float: right;
            width: 24%;
            height: 100%;
            margin-right: 20px;
        }

        #Container {
            height: 1000%;
            width: 1000%;
            position: relative;
        }

        .logo {
            padding: 15px;
        }

        .logo img {
            margin-right: 20px;
            height: 40px;
        }

        .logo span {
            color: white;
            font-size: 20px;
            padding-left: 10px;
            font-weight: bolder;
            border-left: 1px #cecece solid;
        }

        /* 修改图标大小 */
        .fa-2x {
            font-size: 1.5em;
        }

        /* 修改按钮组的背景色 */
        .layui-nav {
            background-color: #36507C;
        }

        /* 未保存标识位置调整 */
        /* .layui-nav .layui-badge, .layui-nav .layui-badge-dot {
             margin: -8px 25px 0;
         }*/
        /* 属性tab页调整 */
        .layui-tab {
            height: 100%;
            margin: 0;
        }

        /* 鼠标、连线工具 */
        #unableDraggableDiv, #enableDraggableDiv {
            margin: 5px;
            float: left;
            width: 40%;
            cursor: pointer;
        }

        /* 可移动放置的节点 */
        .controler {
            cursor: move;
            height: 35px;
            text-align: center;
        }

        .controler > div {
            margin-left: 5px;
            margin-top: 5px;
        }

        .controler .descTxt {
            padding: 14px;
        }

        .nodeTextCla {
            display: table-cell;
            vertical-align: middle;
            line-height: 20px;
        }

    </style>

    <style type="text/css">
        #left_table { background: #ffffff; height: 360px; width: 400px; float: left; }
        #right_table { background: #ffffff; height: 360px; width: 400px; float: right; }
        #middle_table { background: #ffffff; height: 360px; margin:0 120px; }
        #pie_chart { background: #ffffff; height: 400px; width: 400px;float: left; }
        #bar_chart { background: #ffffff; height: 400px; width: 400px; float: right }
        #line_chart { background: #ffffff; height: 400px; width: 400px;float: left; }
        #ring_chart { background: #ffffff; height: 500px; width: 500px; float: right }
        #warning_pie_chart{ background: #ffffff; height: 300px; width: 300px; float: left }
        #process_line_chart{ background: #ffffff; height: 300px; width: 300px; float: right }
        #pie_line_chart{ background: #ffffff; height: 600px; width: 900px }
    </style>

</head>

<body class="welcome_index" style=" background-color: #cfdadd">

<div class="modal fade text-center" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" style="display:inline-block; width: auto">
        <div class="modal-content">
            <div class="modal-header">
                <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>-->
                <h4 class="modal-title" id="ModalLabel">数据资源列表</h4>
            </div>
            <div class="modal-body" id="task_state_view">
                <table class="table  table-bordered table-striped table-hover "
                       style="width: 100% ;word-break:keep-all" , id="datasource_table">
                    <thead>
                    <tr>
                        <th>资源编号</th>
                        <th>数据名称</th>
                        <th>价格</th>
                        <th>容量</th>
                        <th>操作</th>
                    </tr>
                    </thead>
                    <tbody id="state_table_body">

                    </tbody>
                </table>

            </div>
        </div><!-- /.modal-content -->
    </div><!-- /.modal -->
</div>
<!--background-image: url(https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1572430542141&di=a18333f08158c2c3595f6b9791584388&imgtype=0&src=http%3A%2F%2Fp4.qhimg.com%2Ft0196c97381cdf60839.jpg) " >-->
<header class="navbar navbar-default navbar-static-top bs-docs-nav" id="top" role="banner"
        style="padding:0;background-image:url(data:image/jpeg;base64,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) ">
    <div class="container" >
        <div class="navbar-header">
            <div id="title">
                <h2 style="color:white ;width : 1000px " class="text-left">基于原位计算的多中心协同情报分析系统</h2>
            </div>
        </div>

        <nav class="collapse navbar-collapse bs-navbar-collapse navbar-right" role="navigation">
            <ul class="nav navbar-nav navbar-right">
                <li class="js-login"><a href="javascript:exit()">退出</a></li>
                <!--<li class="js-login"><a href="javascript:void(0);">发现</a></li>-->
            </ul>
        </nav>
    </div>
</header>

<div id="hideBg">

</div>
<div class="modal-content" id="hideBox">
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">资源信息发布</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true" onClick="hideBox();">&times;</span>
        </button>
    </div>
    <div class="modal-body">
        <form>
            <input type="file" id="file-ul" name="file-ul">
        </form>
        <div style="margin-top:20px"></div>
        <h5>数据</h5>
        <hr />
        <form class="layui-form" action="">
            <div class="layui-form-item">
                <label class="layui-form-label">资源数量(条)</label>
                <div class="layui-input-block">
                    <input type="number"  class="layui-input" id="number-ul" >
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">资源价格</label>
                <div class="layui-input-block">
                    <input type="number"  class="layui-input" id="price-ul">
                </div>
            </div>
            <div class="layui-form-item">
                <label class="layui-form-label">二次价格</label>
                <div class="layui-input-block">
                    <input type="number"  class="layui-input" id="dou-price-ul">
                </div>
            </div>
            <div class="layui-form-item" pane="">
                <label class="layui-form-label">资源种类</label>
                <div class="layui-input-block">
                    <input type="radio" name="res_optional" value="TEXT" title="散点数据" id = res_optional_text onclick=true>
                    <input type="radio" name="res_optional" value="ZWBZ" title="ZW标注数据" id = res_optional_image>
                    <input type="radio" name="res_optional" value="ZW" title="ZW数据" id = res_optional_module>
                </div>
            </div>
            <div class="layui-form-item layui-form-text">
                <label class="layui-form-label">注释</label>
                <div class="layui-input-block">
                    <textarea placeholder="请输入内容" class="layui-textarea" id="text-ul"></textarea>
                </div>
            </div>
            <div style="margin-top:20px"></div>
            <h5>评估</h5>
            <hr />
            评分(%): <b style="color:#007bff;" id='rank-ul'><span style="color:lightgray">-</span></b>
            <br />推荐价格: <b style="color:#007bff;" id='recom-ul'><span style="color:lightgray">-</span></b>
            <div style="margin-top:20px"></div>

        </form></div>

    <div class="modal-footer">
        <button type="button" class="btn btn-secondary"  onClick="hideBox();">关闭</button>
        <button type="button" class="btn btn-primary"  id="button-ul" onclick="resUpload()">发布</button>
    </div>
</div><br>
<div><a href="javascript:void(0);"  onclick="showBox()">
</a>
</div>


<div class="container-fluid " style="margin:0 ; padding:0 ">

    <div id="sub_module_viewer "
         style=" width : 85% ;margin:0 auto; padding:0;background-color:white">
        <div class="tabbable " id="tabs">
            <ul class="nav nav-tabs nav-justified">
                <li class="TabHead"><a data-toggle="tab" href="#panel-map"
                                       id="nodemap">系统展示屏</a></li>
                <li class="TabHead"><a data-toggle="tab" href="#panel-task"
                                       id="panel_task">业务操作平台</a></li>

                <!--                <li class="TabHead "><a data-toggle="tab"-->
                <!--                                        href="#panel-block">区块链系统</a></li>-->
                <li class="TabHead"><a data-toggle="tab" href="#task-table"
                                       id="task_table">任务管理</a></li>
                <li class="TabHead "><a data-toggle="tab"
                                        href="#panel-information">系统管理</a></li>
                <li class="TabHead active"><a data-toggle="tab" href="#panel-data"
                                              id="panel_data">数据管理</a></li>
                <li class="TabHead "><a data-toggle="tab" href="#panel-threatDetect"
                                              id="panel_threatDetect">内部威胁检测</a></li>
            </ul>
        </div>
        <div class="tab-content ">
            <div class="tab-pane active " id="panel-data">
                <div class="btn-group open" style="margin-left: 10px">
                    <button id="upLoad" class="btn btn-success col-lg-12"  onclick="showBox()">发布数据资源</button>
                </div>
                <div id="table3" style="margin-left:5% ;margin-right: 5%">
                    <table class="table  table-striped table-hover "
                           style="width: 80% ;margin:0 auto" id="resTable">

                    </table>
                </div>
            </div>
            <div class="tab-pane " id="panel-model">
                <div class="col-md-3 ">
                    <div id="model_list"></div>
                </div>
            </div>
            <div class="tab-pane " id="panel-task">

                <ul class="layui-nav " style="text-align: right">
                    <h3 class="panel-title" style="display: inline-block ;float: left ;margin-top: 10px">业务流程编排</h3>
                    <li class="layui-nav-item">
                        <a href="javascript:FLOW.newTask();" onclick="initmap()">
                            <i class="fa  fa-plus-square-o  fa-2x iconClass showItemTxt" aria-hidden="true"
                               type="3"></i>
                            <span hidden="hidden">新建流程</span>
                        </a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript:layuiUtil.history_flow()">  <!--layuiUtil.history_flow()-->
                            <i class="fa  fa-database fa-2x iconClass showItemTxt" aria-hidden="true" type="3"></i>
                            <span hidden="hidden">打开流程</span>
                        </a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript: uploadFlow();">
                            <i class="fa fa-check fa-2x iconClass showItemTxt" aria-hidden="true" type="3">
                                <span id="saveStatus" class="layui-badge-dot" style="display: none;"></span>
                            </i>
                            <span hidden="hidden">保存流程</span>
                        </a>
                    </li>

                    <li class="layui-nav-item">
                        <a href="javascript:f10()">
                            <i class="fa fa-reply fa-2x iconClass showItemTxt" aria-hidden="true" type="3"></i>
                            <span hidden="hidden">撤销</span>
                        </a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript: hhh()">
                            <i class="fa fa-share fa-2x iconClass showItemTxt" aria-hidden="true" type="3"></i>
                            <span hidden="hidden">重做</span>
                        </a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript: FLOW.clearCanvas();">
                            <i class="fa fa-refresh fa-2x fa-fw iconClass showItemTxt" aria-hidden="true" type="3"></i>
                            <span hidden="hidden">重新绘制</span>
                        </a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript: position()">
                            <i class="fa fa-cog fa-2x fa-fw iconClass showItemTxt" aria-hidden="true" type="3"></i>
                            <span hidden="hidden">设置</span>
                        </a>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript: void(0);">
                            <i class="fa fa-question-circle fa-2x iconClass" aria-hidden="true"></i>
                            <span hidden="hidden">帮助</span>
                        </a>
                        <dl class="layui-nav-child">
                            <dd>
                                <a href="javascript: layuiUtil.helpDoc();"><p>帮助文档</p></a>
                            </dd>
                            <dd>
                                <a href="javascript: layuiUtil.shortcutKey();"><p>快捷键大全</p></a>
                            </dd>
                        </dl>
                    </li>
                    <li class="layui-nav-item">
                        <a href="javascript: f()"><!--FLOW.exit()-->
                            <i class="fa fa-sign-out fa-2x showItemTxt iconClass" aria-hidden="true" type="3"></i>
                            <span hidden="hidden">退出</span>
                        </a>
                    </li>
                </ul>

                <div class="middle" style="height: 750px">
                    <!-- 左侧导航区域 -->
                    <div id="toolsBurId">
                        <div class="layui-card">
                            <!--<div class="layui-card-header">鼠标工具箱</div>-->
                            <div class="layui-card-body" style="height: 35px;">
                                <div id="unableDraggableDiv" align="center">
                                    <i id="mouseToolsBtn" class="fa fa-mouse-pointer fa-2x showItemTxt"
                                       aria-hidden="true" type="3"></i>
                                    <span class="nodeSpan" style="display: none;">鼠标工具</span>
                                </div>
                                <div id="enableDraggableDiv" align="center">
                                    <i id="connectionToolsBtn" class="fa fa-exchange fa-2x showItemTxt"
                                       aria-hidden="true" type="3"></i>
                                    <span class="nodeSpan" style="display: none;">连线工具</span>
                                </div>
                            </div>
                        </div>
                        <div class="layui-collapse" lay-accordion="">
                            <div class="layui-colla-item" style="clear: both">
                                <h2 class="layui-colla-title">通用算子</h2>
                                <div class="layui-colla-content layui-show">
                                    <div class="controler">
                                        <div id="start" class="startNode"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">数据源</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="filter" class="filter"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">过滤</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="continue" class="continue"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">接续</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="end" class="endNode"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">结果输出</span>
                                        </div>
                                    </div>
                                </div>


                            </div>
                            <div class="layui-colla-item">
                                <h2 class="layui-colla-title">查询业务算子</h2>
                                <div class="layui-colla-content ">
                                    <div class="controler">
                                        <div id="simpleQuery" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">阵位数量查询</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="positionRatioQuery" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">阵位占比查询</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="flightQuery" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">伴飞关系查询</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="exceptionQuery" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">异常轨迹查询</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="positionQuery" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">轨迹阵位查询</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="layui-colla-item">
                                <h2 class="layui-colla-title">模型学习算子</h2>
                                <div class="layui-colla-content ">
                                    <div class="controler">
                                        <div id="positionModel" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">阵位检测模型</span>
                                        </div>
                                    </div>
                                    <div class="controler">
                                        <div id="exceptionModel" class="commNode" style="width: 30px;"></div>
                                        <div class="descTxt">
                                            <span class="nodeSpan">异常轨迹模型</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--中间绘制区域-->
                    <div id="canvasId">
                        <div id="Container"></div>
                    </div>
                    <!--右侧属性区域-->
                    <div id="attrPanelId">
                        <div class="layui-tab layui-tab-card">
                            <ul class="layui-tab-title">
                                <li class="layui-this" style="width: 100%; height:100%">属性参数</li>
                            </ul>
                            <div class="layui-tab-content" >
                                <div id="process" class="layui-tab-item layui-show">
                                    <form id="processForm" class="layui-form">
                                    </form>
                                </div>
                                <div id="startNode" class="common   layui-tab-item">

                                    <div style ="height:395px">
                                        <span>
                                    <form id="startForm" class="layui-form">

                                        <panel for="startForm" style="text-align: center ;width: 100%">数据类型</panel>
                                        <select id="" lay-verify="required" >
                                            <option value="ownershiptransfer" selected >散点数据</option>
                                            <option value="secondarydistribution">轨迹图片</option>
                                        </select>

                                        <panel for="startForm" style="text-align: center ;width: 100%">支付报酬方式</panel>
                                        <select id="rewardtype" lay-verify="required" >
                                            <option value="ownershiptransfer" selected >一次性激励</option>
                                            <option value="secondarydistribution">二次激励</option>
                                        </select>
                                        <panel for="startForm" style="text-align: center ;width: 100%">任务竞派属性</panel>

                                        <select id="tasktype"  name="test" lay-filter="test">
                                            <option value="appoint" >指派</option>
                                            <option value="compete">自由竞争</option>
                                        </select>
                                        <div id="appoint"  style="display: none">
                                            <label class="layui-form-label"style="text-align: left">指派酬劳</label>
                                            <div class="layui-input-block" >
                                                <input id="appointreward" class="dateinput dateicon form-control">
                                            </div>
                                            <panel for="startForm" style="text-align: center ;width: 100%">数据源选择</panel>
                                             <div class="layui-input-block">
                                                <input class="center" type="checkbox" id="node1" name="like[write]" title="数据中心1"  th:value="center1" checked>
                                            </div>

                                            <label class="layui-form-label"style="text-align: left">使用数据量1</label>
                                            <div class="layui-input-block" >
                                                <input id="num1" class="dateinput dateicon form-control">
                                            </div>
                                             <div class="layui-input-block">
                                                <input class="center" type="checkbox" id="node2" name="like[read]" title="数据中心2" th:value="center2" >
                                             </div>
                                            <label class="layui-form-label"style="text-align: left">使用数据量2</label>
                                            <div class="layui-input-block" >
                                                <input id="num2" class="dateinput dateicon form-control">
                                            </div>
                                            <div class="layui-input-block">
                                                 <input class="center" type="checkbox" id="node3" name="like[dai]" title="数据中心3" th:value="center3">
                                            </div>
                                            <label class="layui-form-label"style="text-align: left">使用数据量3</label>
                                            <div class="layui-input-block" >
                                                <input id="num3" class="dateinput dateicon form-control">
                                            </div>
                                        </div>
                                        <div id="compete"  style="display: none">
                                            <label class="layui-form-label"style="text-align: left">预期支付</label>
                                            <div class="layui-input-block" >
                                                <input id="competereward" class="dateinput dateicon form-control">
                                            </div>
                                            <label class="layui-form-label"style="text-align: left">资源数量</label>
                                            <div class="layui-input-block" >
                                                <input id="resourcenum" class="dateinput dateicon form-control">
                                            </div>
                                        </div>
                                    </form>

                                        </span>
                                    </div>
                                </div>
                                <div id="endNode" class="common   layui-tab-item">
                                    <form id="endForm" class="layui-form">
                                        <panel for="startForm" style="text-align: center ;width: 100%">结果输出方式</panel>
                                        <select id="resultKeep" lay-verify="required">
                                            <option value="0">本地保存</option>
                                            <option value="1">推送</option>
                                        </select>
                                    </form>
                                </div>
                                <div id="filterNode" class="common  layui-tab-item">
                                    <form id="filterForm" class="layui-form">
                                       暂留
                                    </form>
                                </div>
                                <div id="continueNode" class="common  layui-tab-item">
                                    <form id="continueForm" class="layui-form">
                                       暂留
                                    </form>
                                </div>
                                <div id="positionRatioQueryNode" class="common  layui-tab-item">
                                    <form id="positionRatioQueryForm" class="layui-form">
                                        <label class="layui-form-label"style="text-align: left">时间区间</label>
                                        <div class="layui-input-block" >
                                            <input id="range4" class="dateinput dateicon form-control">
                                        </div>
                                        <label class="layui-form-label"style="text-align: left">空间区域</label>
                                        <div class="layui-input-block" >

                                            <select id="positionRationQueryLocation" lay-verify="required">
                                                <option value="0">区域1</option>
                                                <option value="1">区域2</option>
                                                <option value="2">区域3</option>
                                            </select>
                                        </div>
                                        <label class="layui-form-label"style="text-align: left">模型选择</label>
                                        <div class="layui-input-block" >
                                            <select id="positionRationQueryModelSelection" lay-verify="required">
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div id="positionModelNode"  class="businessNode layui-tab-item">
                                    <form id="positionModelNodeForm" class="layui-form">
                                        <label class="layui-form-label" style="text-align: left">数据规模：</label>
                                        <div class="layui-input-block" >
                                            <input  id="positionDataScale" type="number" class="form-control " >
                                        </div>
                                        <label class="layui-form-label" style="text-align: left">迭代轮次：</label>
                                        <div class="layui-input-block" >
                                        <input id="positionModelTrainRounds" type="number" class="form-control"  value="5000">
                                        </div>
                                        <label class="layui-form-label" style="text-align: left">每轮训练数据量：</label>
                                        <div class="layui-input-block" >
                                            <input id="dataScalePerRound" type="number" class="form-control" oninput="if(value > 20|| value < 1 ){alert('非法输入！')}"value="20">
                                        </div>
                                    </form>
                                </div>
                                <div id="positionQueryNode"  class="businessNode layui-tab-item">
                                    <form id="positionQueryNodeForm" class="layui-form">
                                        <label class="layui-form-label"style="text-align: left">时间区间</label>
                                        <div class="layui-input-block" >
                                            <input id="range2" class="dateinput dateicon form-control">
                                        </div>
                                        <label class="layui-form-label"style="text-align: left">空间区域</label>
                                        <div class="layui-input-block" >
                                            <select id="positionQueryLocation" lay-verify="required">
                                                <option value="0">区域1</option>
                                                <option value="1">区域2</option>
                                                <option value="2">区域3</option>
                                            </select>
                                        </div>
                                        <label class="layui-form-label"style="text-align: left">模型选择</label>
                                        <div class="layui-input-block" >
                                            <select id="positionQueryModelSelection" lay-verify="required">
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div id="exceptionModelNode"  class="businessNode layui-tab-item">
                                    <form id="exceptionModelNodeForm" class="layui-form">
                                        <label class="layui-form-label" style="text-align: left">迭代轮次：</label>
                                        <div class="layui-input-block" >
                                            <input id="exceptionModelTrainingRounds" type="number" class="form-control" value="5000">
                                        </div>
                                        <label class="layui-form-label" style="text-align: left">聚类参数：</label>
                                        <div class="layui-input-block" >
                                        <select id="clusterParam" lay-verify="required">
                                            <option value="0">参数自适应</option>
                                            <option value="0.25">0.25</option>
                                            <option value="0.5">0.5</option>
                                            <option value="0.75">0.75</option>
                                        </select>
                                        </div>

                                    </form>
                                </div>
                                <div id="exceptionQueryNode"  class="businessNode layui-tab-item">
                                    <form id="exceptionQueryNodeForm" class="layui-form">
                                        <label class="layui-form-label"style="text-align: left">时间区间</label>
                                        <div class="layui-input-block" >
                                            <input id="range1" class="dateinput dateicon form-control">
                                        </div>
                                        <label class="layui-form-label"style="text-align: left">空间区域</label>
                                        <div class="layui-input-block" >
                                            <select id="exceptionQueryLocation" lay-verify="required">
                                                <option value="0">区域1</option>
                                                <option value="1">区域2</option>
                                                <option value="2">区域3</option>
                                            </select>
                                        </div>
                                        <label class="layui-form-label"style="text-align: left">模型选择</label>
                                        <div class="layui-input-block" >
                                            <select id="exceptionQueryModelSelection" lay-verify="required">
                                            </select>
                                        </div>
                                    </form>
                                </div>
                                <div id="simpleQueryNode"  class="businessNode layui-tab-item">
                                <form id="simpleQueryNodeForm" class="layui-form">
                                    <label class="layui-form-label"style="text-align: left">时间区间</label>
                                    <div class="layui-input-block" >
                                        <input id="range3" class="dateinput dateicon form-control">
                                    </div>
                                    <label class="layui-form-label"style="text-align: left">空间区域</label>
                                    <div class="layui-input-block" >
                                        <select id="simpleQueryLocation2" lay-verify="required">
                                            <option value="0">区域1</option>
                                            <option value="1">区域2</option>
                                            <option value="2">区域3</option>
                                        </select>
                                    </div>
                                    <label class="layui-form-label"style="text-align: left">模型选择</label>
                                    <div class="layui-input-block" >
                                        <select id="simpleQueryModelSelection" lay-verify="required">
                                        </select>
                                    </div>
                                </form>
                                </div>
                                <div id="flightQueryNode"  class="businessNode layui-tab-item">
                                    <form id="flightQueryNodeForm" class="layui-form">
                                        <label class="layui-form-label" style="text-align: left">数据类型：</label>
                                        <div class="layui-input-block" >
                                            <label style="text-align: left">散点数据</label>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--属地计算流程-->
                <div >
                    <ul class="layui-nav " style="text-align: right">
                        <h3 >
                            <a class="panel-title" style="display: inline-block ;float: left ;margin-top: 10px" data-toggle="collapse" data-parent="#accordion" href="#collapseOne">属地计算流程</a>

                        </h3>
                        <li class="layui-nav-item">
                            <a href="javascript: showfun()">
                                <i class="fa fa-sign-out fa-2x showItemTxt iconClass" aria-hidden="true" type="3"></i>
                                <span hidden="hidden">生成映射</span>
                            </a>
                        </li>

                    </ul>
                </div>
                <div id="collapseOne" class="panel-collapse collapse ">
                    <div id="in_sute_flow" class="panel-body" style="height: 350px">

                    </div>
                </div>

                <div >
                    <ul class="layui-nav " style="text-align: right">
                        <h3 >
                            <a class="panel-title" style="display: inline-block ;float: left ;margin-top: 10px" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo">竞派结果</a>

                        </h3>
                        <li class="layui-nav-item">
                            <a href="javascript: auction()"><!--FLOW.exit()-->
                                <i class="fa fa-sign-out fa-2x showItemTxt iconClass" aria-hidden="true" type="3"></i>
                                <span hidden="hidden">竞派</span>
                            </a>
                        </li>

                    </ul>
                </div>
                <div id="collapseTwo" class="panel-collapse collapse ">
                    <div class="panel-body" style="height: 350px">
                        <p id="before">等待结果输出</p>
                        <table class="table table-bordered table-hover table-striped "
                               style="width:100% ;margin:0 auto" id="auctionresult">
                        </table>
                    </div>
                </div>


            </div>
            <div class="tab-pane" id="panel-information">



                <div class="panel-heading panel-primary" style=" background-color: #36507C">
                    <h3 class="panel-title" style="color: white">
                        <a data-toggle="collapse" data-parent="#accordion" href="#actionOne">账户信息查询</a>
                    </h3>
                </div>
                <div id="actionOne" class="panel-collapse collapse ">
                    <div  class="panel-body" style="height: 450px">
                        <div class="layui-form-item">
                            <div class="layui-input-inline">
                                <label class="layui-form-label"style="">充值金额</label>
                                <div class="layui-input-block "  style="width: 70px;">
                                    <input id="investcoin" class="dateinput dateicon form-control">
                                </div>
                            </div>
                            <button type="button" class="layui-btn  layui-btn-sm" onclick="invest()">原位币充值</button>
                        </div>
                        <h3 id="querycoin">当前属地资产：    （原位币）</h3>

                        <div style="width: 90%;margin:0 auto">
                            <table class="layui-hide" id="investinfo"></table>
                            <table class="table table-bordered table-hover table-striped "
                                   style="width:100% ;margin:0 auto" id="invest_table">
                            </table>
                        </div>
                    </div>
                </div>

                <div class="panel-heading panel-primary" style=" background-color: #36507C">
                    <h3 class="panel-title" style="color: white">
                        <a data-toggle="collapse" data-parent="#accordion" style="color: white" href="#actionTwo">竞派信息查询</a>
                    </h3>
                </div>

                <div id="actionTwo" class="panel-collapse collapse ">
                    <div  class="panel-body" style="height: 450px">

                        <div class="layui-form-item">
                            <div class="layui-input-inline">
                                <label class="layui-form-label"style="">任务名称</label>
                                <div class="layui-input-block"  style="width: 70px;">
                                    <input id="querytaskid" class="dateinput dateicon form-control">
                                </div>
                            </div>
                            <button type="button" class="layui-btn  layui-btn-sm" onclick="gethistorydataform()">查询</button>
                        </div>
                        <div style="width: 90%;margin:0 auto">
                            <table class="layui-hide" id="historyinfo"></table>
                            <table class="table table-bordered table-hover table-striped "
                                   style="width:100% ;margin:0 auto" id="historyinfo_table">
                            </table>
                        </div>
                    </div>
                </div>


                <div class="panel-heading panel-primary" style=" background-color: #36507C">
                    <h3 class="panel-title" style="color: white">
                        <a data-toggle="collapse" data-parent="#accordion" href="#auctionThree">用户管理</a>
                    </h3>
                </div>
                <div id="auctionThree" class="panel-collapse collapse ">
                    <div class="tabbable " id="userTab">
                        <ul class="nav nav-tabs nav-justified">
                            <li class="TabHead"><a data-toggle="tab" href="#userAuthority"
                            >用户组权限</a></li>
                            <li id="user_manage_tab" class="TabHead"><a data-toggle="tab" href="#userManagement"
                            >权限管理</a></li>
                        </ul>
                    </div>
                    <div class="panel-body tab-content" style="height: 350px">
                        <div class="tab-pane active" id="userAuthority">
                            <table class="table" align="center" style=" table-layout:fixed " id="overall_state">
                                <thead>
                                <tr>
                                    <th>用户组级</th>
                                    <th>数据发布</th>
                                    <th>单数据中心查询</th>
                                    <th>跨数据中心查询</th>
                                    <th>模型训练</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <td>1</td>
                                    <td>✔</td>
                                    <td>×</td>
                                    <td>×</td>
                                    <td>×</td>
                                </tr>
                                <tr>
                                    <td>2</td>
                                    <td>✔</td>
                                    <td>✔</td>
                                    <td>×</td>
                                    <td>×</td>
                                </tr>
                                <tr>
                                    <td>3</td>
                                    <td>✔</td>
                                    <td>✔</td>
                                    <td>✔</td>
                                    <td>×</td>
                                </tr>
                                <tr>
                                    <td>4</td>
                                    <td>✔</td>
                                    <td>✔</td>
                                    <td>✔</td>
                                    <td>✔</td>
                                </tr>
                                </tbody>
                            </table>
                            <div class="layui-form-item" >
                                <label  style="text-align: left">当前用户组级为：</label>
                                <label id="cur_user" style="text-align: left"></label>
                            </div>
                        </div>
                        <div  class="tab-pane" id="userManagement">
                            <table class="table" align="center" style=" table-layout:fixed " id="user_manage">
                                <thead>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>





            </div>
            <div class="tab-pane row " id="task-table" style="width: 90%;margin:0 auto">
                <table class="layui-hide" id="test"></table>

                <table class="table table-bordered table-hover table-striped "
                       style="width:100% ;margin:0 auto" id="incompvare_table2">

                </table>

            </div>
            <div class="tab-pane  " id="panel-map">

                <div class="panel-heading panel-primary" style=" background-color: #36507C">
                    <h3 class="panel-title" style="color: white">
                        <a data-toggle="collapse" data-parent="#accordion" >数据中心地图</a></h3>
                </div>

                <div id="allmap" class="middle" style="height: 650px">

                </div>



                <div class="panel-heading panel-primary" style=" background-color: #36507C">
                    <h3 class="panel-title" style="color: white">
                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse1">图表</a></h3>
                </div>
                <div id="collapse1" class="panel-collapse collapse ">
                    <div id="in_sute_table" class="panel-body" style="height: 400px">
                        <div id=left_table>
                            <svg style="text-align: center; vertical-align: center; margin-left:100px" width="300" height="300"></svg>

                            <h4 style="color:black; text-align:center; height: 10px;margin-left:100px ">属地中心上线数(3)/属地中心总数(4)</h4>


                        </div>
                        <div id=right_table>
                            <svg id="svg2" style="text-align: center; vertical-align: center; margin-left:20px" width="300" height="300"></svg>


                            <h4 style="color:black; height: 10px"class="text-center">系统利用率(61%)</h4>

                        </div>

                    </div>

                    </div>
                </div>
            <div class="tab-pane" id="panel-threatDetect">
                <div class="middle" style="height: 850px">
                    <!-- 左侧导航区域 -->
                    <div id="center_list">
                        <div class="layui-card" style="font-weight: bold">
                            计算中心列表
                        </div>
                        <div >
                            <ul class="nav nav-tab vertical-tab" role="tablist">
                                <!-- 侧边导航: <ul class="layui-nav layui-nav-tree layui-nav-side"> -->
                                <li role="presentation"><a href="">主控台</a></li>
                                <li role="presentation"><a href="#data_collect_configuration" role="tab"
                                                           data-toggle="tab">数据采集配置中心</a></li>
                               <!-- <li role="presentation">
                                    <a href="javascript:;">解决方案</a>
                                    <dl class="layui-nav-child">
                                        <dd><a href="">移动模块</a></dd>
                                        <dd><a href="">后台模版</a></dd>
                                        <dd><a href="">电商平台</a></dd>
                                    </dl>
                                </li>-->
                                <li role="presentation"><a href="#data_statistics_center"role="tab"
                                                           data-toggle="tab">数据统计中心</a></li>
                                <li role="presentation"><a href="#data_process_center" role="tab"
                                                           data-toggle="tab">数据处理中心</a></li>
                                <li role="presentation"><a href="#node_safety_state" role="tab"
                                                           data-toggle="tab">节点安全态势</a></li>
                                <li role="presentation"><a href="#system_safety_state" role="tab"
                                                           data-toggle="tab">整体安全态势</a></li>
                            </ul>
                        </div>
                    </div>
                    <!--中间绘制区域-->
                    <div id="threat_model_container" class="tab-content vertical-tab-content" >
                        <div  class="tab-pane active" id="data_statistics_center">
                            <div style="height: 50%">
                                <label style="font-weight:bold"> 告警信息统计</label>
                                <div id="search_space" class="layui-form" >
                                    <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label " >时间区间</label>
                                        <div class="layui-input-block">
                                            <input type="text" class="layui-input"  id="time_selection" name="timeSelection">
                                        </div>
                                    </div>
                                  <!--  <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label">威胁等级</label>
                                        <div class="layui-input-block">
                                            <select name="threat_degree" lay-verify="required">
                                                <option value="1">1</option>
                                                <option value="2">2</option>
                                                <option value="3">3</option>
                                                <option value="4">4</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label">攻击类型</label>
                                        <div class="layui-input-block">
                                            <select name="threat_degree" lay-verify="required">
                                                <option value="1">U2R</option>
                                                <option value="2">R2L</option>
                                                <option value="3">DOS</option>
                                                <option value="4">Probe</option>
                                            </select>
                                        </div>
                                    </div>-->
                                </div>
                                <table class="table  table-bordered table-striped table-hover "
                                       style="width: 100% ;word-break:keep-all"  id="threat_table">
                                    <thead>
                                    <tr>
                                        <th>编号</th>
                                        <th>源ip地址</th>
                                        <th>目的ip地址</th>
                                        <th>操作用户名</th>
                                        <th>操作主机</th>
                                        <th>所属子网</th>
                                        <th>时间戳</th>
                                    </tr>
                                    </thead>
                                    <tbody >

                                    </tbody>
                                </table>
                            </div>
                            <div style="height: 50%">
                                <div  class="panel-body" style="height: 400px">
                                    <div id="pie_chart">
                                        <!--                                    <svg id="threat_pie_chart" style="display:block;margin:auto" width="300" height="300"></svg>-->
                                    </div>
                                    <div id="bar_chart">
                                        <!--                                    <svg id="threat_bar_chart"  style="display:block;margin:auto" width="400" height="400"></svg>-->

                                    </div>

                                </div>
                            </div>
                        </div>
                        <div  class="tab-pane" id="data_process_center">
                            <div style="height: 50% ;width: 100%" >
                                <label style="font-weight:bold"> 数据统计</label>
                                <div id="search_tag" class="layui-form" >
                                    <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label " >时间区间</label>
                                        <div class="layui-input-block">
                                            <input type="text" class="layui-input"  id="time_selection2" >
                                        </div>
                                    </div>
                                </div>

                                <div style="height:400px;width: 100%">
                                    <div style="float: left;width: 50%">
                                        <table  class="table  table-bordered table-hover"
                                                style=""  id="process_threat_table">
                                        <thead>
                                        <tr>
                                            <th>编号</th>
                                            <th>用户名</th>
                                            <th>时间</th>
                                        </tr>
                                        </thead>
                                        <tbody >

                                        </tbody>
                                    </table>
                                    </div>
                                    <div style="float: left;width: 50%">
                                        <table  class="table  table-bordered table-striped table-hover "
                                                style="width: 100%"    id="detail">
                                            <thead>
                                            <tr>
                                                <th>结果解析</th>
                                            </tr>
                                            </thead>
                                            <tbody >
                                            <tr>
                                                <td>1</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                                <td>6</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                            </tr>
                                            <tr>
                                                <td>2</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                                <td>7</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                            </tr>
                                            <tr>
                                                <td>3</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                                <td>8</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                            </tr>
                                            <tr>
                                                <td>4</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                                <td>9</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                            </tr>
                                            <tr>
                                                <td>5</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                                <td>10</td>
                                                <td>2202-2-25 12:23:31</td>
                                                <td>xx</td>
                                            </tr>
                                            </tbody>
                                        </table>
                                        <button style="float: right; margin-right: 10px" class="btn btn-success">误报</button>
                                    </div>
                                </div>

                            </div>

                                    <!--<div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label">攻击类型</label>
                                        <div class="layui-input-block">
                                            <select name="threat_degree" lay-verify="required">
                                                <option value="1">U2R</option>
                                                <option value="2">R2L</option>
                                                <option value="3">DOS</option>
                                                <option value="4">Probe</option>
                                            </select>
                                        </div>
                                    </div>-->


                            <div style="height: 50%">
                                <div  class="panel-body" style="height: 400px">
                                    <div id="warning_pie_chart" >

                                    </div>
                                    <div id="process_line_chart">

                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="data_collect_configuration">
                            <div class="well layui-inline">
                                登入/登出
                                <div  class="switch switch-large">
                                <input id="sign"type="checkbox" checked />
                                </div>
                            </div>
                            <div class="well layui-inline" >电子邮件
                                    <div  class="switch switch-large">
                                        <input id="email"type="checkbox" checked /></div>
                            </div>
                            <div class="well layui-inline" >上网
                                <div  class="switch switch-large">
                                    <input id="online"type="checkbox" checked /></div>
                            </div>
                            <div class="well layui-inline" >文件操作
                                <div  class="switch switch-large">
                                    <input id="document"type="checkbox" checked /></div>
                            </div>
                            <div class="well layui-inline" >移动介质
                                <div  class="switch switch-large">
                                    <input id="mobie"type="checkbox" checked /></div>
                            </div>
                            <div class="well layui-inline" >心理状态
                                <div  class="switch switch-large">
                                    <input id="mind"type="checkbox" checked /></div>
                            </div>
                            <div class="well layui-inline" >用户信息
                                <div  class="switch switch-large">
                                    <input id="userData" type="checkbox" checked /></div>
                            </div>
                        </div>
                        <div class="tab-pane" id="node_safety_state">
                            <div >
                                <div class="layui-form" >
                                    <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label " >时间区间</label>
                                        <div class="layui-input-block">
                                            <input type="text" class="layui-input"  id="time_selection4" name="timeSelection">
                                        </div>
                                    </div>
                                    <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label">选择子网</label>
                                        <div class="layui-input-block">
                                            <select name="threat_degree" lay-verify="required">
                                                <option value="1">计算中心1</option>
                                                <option value="2">计算中心2</option>
                                                <option value="3">计算中心3</option>
                                                <option value="4">计算中心4</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div >
                                <div  class="panel-body" style="height: 400px">
                                    <div id="pie_line_chart">
                                        <!--                                    <svg id="threat_pie_chart" style="display:block;margin:auto" width="300" height="300"></svg>-->
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="tab-pane" id="system_safety_state">
                            <div >
                                <div class="layui-form" >
                                    <div class="layui-form-item layui-inline" >
                                        <button class="btn btn-success">节点权重配置</button>
                                    </div>
                                    <div class="layui-form-item layui-inline" >
                                        <label class="layui-form-label " >时间区间</label>
                                        <div class="layui-input-block">
                                            <input type="text" class="layui-input"  id="time_selection3" name="timeSelection">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div >
                                <div  class="panel-body" style="height: 400px">
                                    <div id="line_chart">

                                    </div>
                                    <div id="ring_chart">

                                    </div>

                                </div>
                            </div>
                        </div>

                    </div>


                    </div>
                </div>


            </div>
<!--                <div class="panel-heading panel-primary" style=" background-color: #36507C">-->
            <!--                    <h3 class="panel-title" style="color: white">-->
            <!--                        <a data-toggle="collapse" data-parent="#accordion" href="#collapse2">告警信息</a>-->
            <!--                    </h3>-->
            <!--                </div>-->
            <div id="collapse2" class="panel-collapse collapse ">
                    <div class="panel-body" style="height: 350px">
                        INFO1
                        INFO2
                        INFO3
                    </div>
                </div>


            </div>
        </div>
    </div>
</div>
<footer>
    <div>
        <p class="text-center">© 电子科技大学</p>
    </div>
</footer>
</body>

<script th:src="@{/resources/js/component/jquery-1.11.0.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/bootstrap.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/bootstrap-switch.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/component/sugar.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/component/jquery-ui.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/component/jquerymy-1.2.14.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/jquery.dataTables.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/bmap-offline/demo.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/dataTables.bootstrap.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/d3.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/echarts.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/jedate-6.5.0/src/jedate.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/bmap-offline/map3.0_init.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/bmap-offline/map3.0.js}"
        type="text/javascript"></script>
<!-- 百度地图3.0 End -->
<script th:src="@{/resources/bmap-offline/layer.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/jsplumb.min.js}"
        type="text/javascript"></script>
<!--<script th:src="@{/resources/js/jquery.jsPlumb-1.4.0-all.js}"-->
<!--        type="text/javascript"></script>-->
<script th:src="@{/resources/plugings/layui/layui.all.js}"
        type="text/javascript"></script>
<!--<script th:src="@{/resources/js/layui/lay/modules/laydate.js}"-->
<!--        type="text/javascript"></script>-->
<script th:src="@{/resources/js/component/web.contextmenu.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/component/graphlib.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/component/html2canvas.min.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/component/canvg.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/config/config.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/RightMenu.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/zfsn.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/zfsn-flow.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/zfsn-flow-render.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-str.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-layui.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-plumb.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-graph.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-idpool.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-color.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/main/util/zfsn-util-attr-cfg.js}"
        type="text/javascript"></script>
<script th:src="@{/resources/js/load.js}"
        type="text/javascript"></script>


<!--权限控制-->

<script>
    $(document).ready(function () {
        layui.use('laydate', function(){
            var laydate = layui.laydate;

            //执行一个laydate实例
            laydate.render({
                elem: '#time_selection' ,//指定元素
                type: 'datetime',
                range: true
            });
        });
        layui.use('element', function(){
            var element = layui.element;

            //一些事件监听
            element.on('tab(demo)', function(data){
                console.log(data);
            });
        });
        var url = location.search;
        var theRequest = new Object();
        if ( url.indexOf( "?" ) != -1 ) {
            var str = url.substr( 1 ); //substr()方法返回从参数值开始到结束的字符串；
            var strs = str.split( "&" );
            for ( var i = 0; i < strs.length; i++ ) {
                theRequest[ strs[ i ].split( "=" )[ 0 ] ] = ( strs[ i ].split( "=" )[ 1 ] );
            }
            console.log(1);
            /*if(theRequest.userauthority==null){
                console.log(1);
                window.location.href = "http://127.0.0.1:8080/in_sute_demo/test";
            }
            else{

            }*/
            FLOW._base.userAuthority = theRequest.userauthority;
            FLOW._base.userRole = theRequest.userrole.toString();
            FLOW._base.nodeId =  theRequest.nodeId;

            console.log(FLOW._base.nodeId);
            //document.getElementById('cur_user').innerHTML = FLOW._base.userAuthority.toString();
            $("#cur_user").html(FLOW._base.userAuthority);
            //$("#user_manage_tab")

            console.log(FLOW._base.userRole);
            if(FLOW._base.userRole=="ROLE_ADMIN"){
                document.getElementById("user_manage_tab").style.display="";
            }
            else if(FLOW._base.userRole=="ROLE_USER"){
                document.getElementById("user_manage_tab").style.display="none";
            }
            $.ajax({
                url: '/in_sute_demo/userAuthority.do',
                type: 'post',
                dataType: "json",
                success: function (result) {
                    initting(result);
                }
            });
        }});

    $("#user_manage").off("click", ".bt_do").on("click", ".bt_up", function (){   //查看按钮
        let username = $('#user_manage').DataTable().row($(this).parents().parents("tr")).data().username;
        let cur_authority = $('#user_manage').DataTable().row($(this).parents().parents("tr")).data().userAuthority;
        if(cur_authority<4){
            $.ajax({
                url: '/in_sute_demo/upAuthority.do',
                type: 'post',
                dataType: "json",
                data:{"username":username},
                success: function (result) {
                    if(result.res==1) {
                        $.ajax({
                            url: '/in_sute_demo/userAuthority.do',
                            type: 'post',
                            dataType: "json",
                            success: function (result) {
                                initting(result);
                            }
                        });
                    }
                    else
                        console.log("upAuthority error");
                }
            });
        }
        else
            alert("无法再升级用户组级");

    });

    $("#user_manage").off("click", ".bt_do").on("click", ".bt_down", function (){   //查看按钮
        let username = $('#user_manage').DataTable().row($(this).parents().parents("tr")).data().username;
        let cur_authority = $('#user_manage').DataTable().row($(this).parents().parents("tr")).data().userAuthority;
        if(cur_authority>1)
        {
            $.ajax({
                url: '/in_sute_demo/downAuthority.do',
                type: 'post',
                dataType: "json",
                data:{"username":username},
                success: function (result) {
                    if(result.res==1){
                        $.ajax({
                            url: '/in_sute_demo/userAuthority.do',
                            type: 'post',
                            dataType: "json",
                            success: function (result) {
                                initting(result);
                            }
                        });
                    }
                    else
                        console.log("downAuthority error");
                }
            });
        }
        else
            alert("无法再降低用户组级");

    });

    function initting(data) {
        $("#user_manage").DataTable({
            destroy: true,
            data: data,
            autoWidth: false,
            // deferRender: true,
            //'iDisplayLength': 5,
            // lengthMenu:false,
            bLengthChange:false,
            columns: [{
                data: 'username',
                title: '用户名'

            }, {
                data: 'userAuthority',
                title: '用户组级'
            },
                {
                    title: '操作',
                    "render": function (data, type, row, meta) {
                        return data = '<button type="button"   style="width:90px" class="btn btn-sm btn-default bt_up" id="dt_search"><i class="fa fa-search"></i> 升级用户组 </button>' + '&nbsp;&nbsp;&nbsp;' +
                            '<button type="button"    style="width:90px" class="btn  btn-sm btn-default bt_down" id="dt_search"><i class="fa fa-gear"></i>降级用户组</button>';
                    }
                }
            ],
            searching: false,
            ordering: false,
            language: {
                paginate: {// 分页的样式内容。
                    previous: "上一页",
                    next: "下一页",
                    first: "第一页",
                    last: "最后"
                },
                info: " 总计 _TOTAL_个任务",
                lengthMenu: "展示_MENU_ 条"
            },
            pagingType: "full_numbers",
            info:false
        });
    }

    function exit() {
        FLOW._base.userId='';
        FLOW._base.userRole = '';
        FLOW._base.nodeId='';
        window.location.href = "http://127.0.0.1:8080/in_sute_demo/login";
    }
</script>
<script>
    $(document).ready(function () {
        if(FLOW._base.userRole=='')
            window.location.href = "http://127.0.0.1:8080/in_sute_demo/test";
    })
</script>
<script type="text/javascript">
    function showfun() {
        //FLOW.removeAll();
        var data1;
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/loadJson.do',
            // contentType : "application/json",
            data: {
                'id': 1
            },
            success: function (data) { // data 保存提交后返回的数据，一般为 json 数据
                // 此处可对 data 作相关处理
                console.log(typeof (data));
                FLOW.reloadJson(JSON.parse(data));
            }
        });
        // alert(data1);
        // FLOW.loadJson(JSON.parse(data1))
    }

    function initmap() {
        showfun();

        var _base = FLOW._base;

        layer.confirm(CONFIG.msg.initConfirm, { icon: 7, title: '提示' }, function(index) {
            // 1、保存状态为未保存
            // $("#saveStatus").css('display', '');
            // 2、将当前流程对象放入可撤销数组中
            _base.undoStack.push(FLOW.getCurrentFlow());

            FLOW.removeAll();
            layer.close(index);
        });
    }
</script>   <!--渲染历史流程图_旧版-->
<!--<script th:src="@{/resources/js/layui/layui.js}" charset="utf-8"></script>-->
<script type="text/javascript">

    $(document).ready(function () {
        layui.form.on('select(test)', function(data){
            var value = data.value;
            console.log(value);
            if(value=="appoint"){
                document.getElementById("appoint").style.display="block";
                document.getElementById("compete").style.display="none";
            }else if(value=="compete"){
                document.getElementById("compete").style.display="block";
                document.getElementById("appoint").style.display="none";
            }
        });
            })


    function role(){
        console.log(1);
        var sel1 = document.getElementById('tasktype');
        var index = sel1.selectedIndex;
        var value=sel1.options[index].value;
        console.log(value);
        if(value=="appoint"){
            document.getElementById("region").style.display="block";
            document.getElementById("store").style.display="none";
        }else if(value=="compete"){
            document.getElementById("region").style.display="none";
            document.getElementById("store").style.display="block";
        }
    }

    function f() {

        var obj = FLOW.getCurrentFlow();
        var nodeArr = obj.nodeDataArray;
        console.log(nodeArr.length);


        var final =[];
        for(var i=0;i<nodeArr.length;i++){
            var type;

            if((nodeArr[i].nodeType.toString()=="exceptionModel")||( nodeArr[i].nodeType.toString()=="positionModel")){
                     type = '模型'
            }
            else
                type = '情报';
            switch (nodeArr[i].nodeType.toString()) {

                case ('start'): {
                    var dataCenter = [];
                    $('input[class="center"]:checked').each(function () {
                        dataCenter.push($(this).val());
                    });
                    final.push({'dataCenter':dataCenter});
                    document.getElementById("startForm").reset();
                }
                    break;
                case('end'):{
                   var resultKeep;
                   resultKeep = $("#resultKeep option:selected").val();
                   final.push({'resultKeep':resultKeep});
                    document.getElementById("endForm").reset();
                }
                    break;
                case('positionModel'):{
                    var data1 = $('#positionDataScale').val();
                    var data2 = $("#positionModelTrainRounds").val();
                    var data3 = $("#dataScalePerRound").val();
                    var data = {
                        'type':'postionModel',
                        'positionDataScale':data1,
                        'positionModelTrainRounds':data2,
                        'dataScalePerRound':data3
                    };
                    final.push({'param':data});
                    document.getElementById("positionModelNodeForm").reset();
                }
                break;
                case('positionQuery'):{
                    var data1=$("#range2").val();
                    var data2 = $('#positionQueryLocation option:selected').val();
                    var data = {
                        'type':'positionQuery',
                        'timeSection':data1,
                        'locationSection':data2
                    };
                    final.push({'param':data});
                    document.getElementById("positionQueryNodeForm").reset();
                }
                break;
                case('exceptionModel'):{
                    var data1 = $("#exceptionModelTrainingRounds").val();
                    var data2 = $("#clusterParam option:selected").val();
                    data = {
                        'type':'exceptionModel',
                        'exceptionModelTrainingRounds':data1,
                        'clusterParam':data2
                    };
                    final.push({'param':data});
                    document.getElementById("exceptionModelNodeForm").reset();
                }
                break;
                case('exceptionQuery'):{
                    var data1 = $('#range1').val();
                    var data2 = $("#exceptionQueryLocation option:selected").val();
                    data = {
                        'type' :'exceptionQuery',
                        'timeSection':data1,
                        'locationSection':data2
                    };
                    final.push({'param':data});
                    document.getElementById("exceptionQueryNodeForm").reset();
                }
                break;
            }
        }
        console.log(final);

    }  //流程任务参数传递测试函数

    function position() {       //sdk-11.22 测试
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/position.do',
            data: {
                'id': 1
            },
            success: function (data) { // data 保存提交后返回的数据，一般为 json 数据
                // 此处可对 data 作相关处理
                if (data.res == 0) {
                    console.log("error");
                } else {
                    console.log(data.res )
                }
            }

        });
    }

    function uploadFlow() {
        var creator = "zby";
        var taskFlowName = $("#flowName").val();
        var description = $("#flowDescription").val();
        var obj = FLOW.getCurrentFlow();
        var nodeArr = obj.nodeDataArray;
        var model_type=null;  //具体类型
        console.log(nodeArr.length);
         var type;
        var final =[];
        var value="";
        $(document).ready(function () {
            layui.form.on('select(test)', function(data){
                var value = data.value;
                console.log(value);
                if(value=="appoint"){
                    document.getElementById("appoint").style.display="block";
                    document.getElementById("compete").style.display="none";
                }else if(value=="compete"){
                    document.getElementById("compete").style.display="block";
                    document.getElementById("appoint").style.display="none";
                }
            });
        })
        for(var i=0;i<nodeArr.length;i++){
            switch (nodeArr[i].nodeType.toString()) {
                case ('start'): {
                    if(value=="appoint"){
                        var dataCenter = [];
                        $('input[class="center"]:checked').each(function () {
                            dataCenter.push($(this).val());
                        });
                        final.push({'dataCenter':dataCenter});
                        document.getElementById("startForm").reset();
                    }

                }
                    break;
                case('end'):{
                    var resultKeep;
                    resultKeep = $("#resultKeep option:selected").val();
                    final.push({'resultKeep':resultKeep});
                    document.getElementById("endForm").reset();
                }
                    break;
                case('positionModel'):{
                    model_type = 'zw';
                    var data1 = $('#positionDataScale').val();
                    var data2 = $("#positionModelTrainRounds").val();
                    var data3 = $("#dataScalePerRound").val();
                    var data = {
                        'type':'postionModel',
                        'positionDataScale':data1,
                        'positionModelTrainRounds':data2,
                        'dataScalePerRound':data3
                    };
                    type = '模型';
                    final.push({'param':data});
                    document.getElementById("positionModelNodeForm").reset();
                }
                    break;
                case('positionQuery'):{
                    model_type ='zw';
                    var data1=$("#range2").val();
                    var data2 = $('#positionQueryLocation option:selected').val();
                    var data = {
                        'type':'positionQuery',
                        'timeSection':data1,
                        'locationSection':data2
                    };
                    type= '情报';
                    final.push({'param':data});
                    document.getElementById("positionQueryNodeForm").reset();
                }
                    break;
                case('exceptionModel'):{
                    model_type = 'yc';
                    var data1 = $("#exceptionModelTrainingRounds").val();
                    var data2 = $("#clusterParam option:selected").val();
                    data = {
                        'type':'exceptionModel',
                        'exceptionModelTrainingRounds':data1,
                        'clusterParam':data2
                    };
                    type = '模型';
                    final.push({'param':data});
                    document.getElementById("exceptionModelNodeForm").reset();
                }
                    break;
                case('exceptionQuery'):{
                    model_type = 'yc';
                    var data1 = $('#range1').val();
                    var data2 = $("#exceptionQueryLocation option:selected").val();
                    data = {
                        'type' :'exceptionQuery',
                        'timeSection':data1,
                        'locationSection':data2
                    };
                    type = '情报';
                    final.push({'param':data});
                    document.getElementById("exceptionQueryNodeForm").reset();
                }
                    break;
            }
        }
        var flow = JSON.stringify(obj);
        var final_json = JSON.stringify(final);
        console.log( final_json);

        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/addTaskFlow.do',
            data: {
                'creator': creator,
                'description': description,
                'taskFlowName': taskFlowName,
                "flow": flow,
                'type': type,
                'param': final_json,
                'model_type': model_type
            },
            success: function (data) { // data 保存提交后返回的数据，一般为 json 数据
                // 此处可对 data 作相关处理
                if (data.state == 0) {
                    FLOW._base.flowName='';
                    FLOW._base.flowDescription='';
                    FLOW._base.taskComOrApp='';
                    FLOW.removeAll();
                     $("#saveStatus").css('display', 'none');
                    layer.msg(CONFIG.msg.saveSuccess, {
                        icon: 1,
                        time: 1000
                    });

                } else alert('提交失败')
            }

        });
    }

   function hhh() {
       console.log($('#positionQueryModelSelection option:selected').text());
   }

</script>   <!--保存任务流程及模拟数据发布test-->
<script type="text/javascript">  /* 打开数据列表*/

var baseUrl = "/in_sute_demo";
/* 用ajax发送请求*.do，controller接收并返回结果 */
/*$(document).on('click', '#process_threat_table', function () {
    layuiUtil.showData();
})*/

</script>   <!--打开历史任务流程列表-->
<script type="text/javascript">
    $(document).ready(function () {

        $.ajax({
            url: '/in_sute_demo/taskNewView2.do',
            type: 'post',
            dataType: "json",
            success: function (result) {
                console.log("刷新任务表格");
                initList(result);
            }
        });
        // window.setInterval(function() {
        //     $.ajax({
        //         url: '/in_sute_demo/taskNewView2.do',
        //         type: 'post',
        //         dataType: "json",
        //         success: function (result) {
        //             initList(result);
        //         }
        //     });
        // }, 3000);
    });
    function initList(data) {
        $("#incompvare_table2").DataTable({
            destroy: true,
            data: data,
            autoWidth: false,
            // deferRender: true,
            'iDisplayLength': 5,
            lengthMenu: [5, 10, 20],
            columns: [{
                data: 'id',
                title: '任务编号'

            }, {
                data: 'name',
                title: '任务名称'
            }, {
                data: 'type',
                title: '任务类型'
            },
                {
                    data: 'state',
                    title: '任务状态'
                },
                {
                    data: 'finishTime',
                    title: '完成时间'

                }, {
                    data: 'creator',
                    title: '发布人'

                },
                {
                    data: 'state',
                    title: '操作',
                    "render": function (data, type, row, meta) {
                        var cur_val = ""
                        switch (data) {
                            case "未执行":
                                cur_val = '执行';
                                break;
                            case  "执行中":
                                cur_val = '中止';
                                break;
                            case '已完成':
                                cur_val = '重新执行';
                                break;
                            case '已中止':
                                cur_val = '重新执行';
                                break;
                            default :
                                cur_val = '无法执行'
                        }
                        return data = '<button type="button"   style="width:80px" class="btn btn-sm btn-default bt_search" id="dt_search"><i class="fa fa-search"></i> 查看 </button>' + '&nbsp;&nbsp;&nbsp;' +
                            '<button type="button"    style="width:80px" class="btn btn-sm btn-danger bt_do" id="dt_search"><i class="fa fa-gear"></i>' + cur_val + '</button>';
                        //+ '&nbsp;&nbsp;&nbsp;' + '<button type="button" style="width:80px" class="btn btn-sm btn-danger bt_retrain"  id="dt_redo"><i class="fa fa-refresh\t"></i> 再次训练 </button>

                    }
                }
            ],
            searching: false,
            ordering: false,
            language: {
                paginate: {// 分页的样式内容。
                    previous: "上一页",
                    next: "下一页",
                    first: "第一页",
                    last: "最后"
                },
                info: " 总计 _TOTAL_个任务",
                lengthMenu: "展示_MENU_ 条"
            },
            pagingType: "full_numbers"
        });
    }
</script>
<script type="text/javascript">
    $("#incompvare_table2").off("click", ".bt_do").on("click", ".bt_search", function (){   //查看按钮
        var id = $('#incompvare_table2').DataTable().row($(this).parents().parents("tr")).data().id;
        layer.open({
            type: 2,
            skin: 'layui-layer-rim', //加上边框
            area: ['840px', '480px'], //宽高
            content:'task_detail.html',
            success: function (layero, index) {
                // 获取子页面的iframe
                var iframe = window['layui-layer-iframe' + index];
                // 向子页面的全局函数child传参
                iframe.child(id);   //传递任务id号
            }
        });
    });
</script>
<script type="text/javascript">
    $("#incompvare_table2").off("click", ".bt_do").on("click", ".bt_do", function () {     //执行操作按钮
         var id = $('#incompvare_table2').DataTable().row($(this).parents().parents("tr")).data().id;
         //var type =
        var cur_val = this.innerHTML;  //当前状态
        var action = -1; //初始无意义值，根据cur_val赋值
        if (cur_val.includes("无法执行")) {
            alert("该任务目前无法进行操作！！！");
        } else if (cur_val.includes("重新执行")) {
            action = 0;
        } else if (cur_val.includes("中止")) {
            action = 1;
        } else if (cur_val.includes("执行")) {
            action = 2;
        } else {
            alert("该任务目前无法进行操作！！！");
        }
        if (action != -1) {
            if(action==2)
                payandrecord();
            $.ajax({
                async: false,
                type: "POST",
                data: {
                    "id": id,
                    "action": action
                },
                url: '/in_sute_demo/taskAction.do',
                timeout: 3000,
                success: function (data) {
                    //操作执行后，请求task_id
                    console.log(data);
                    if(data==1){
                        UpdateDT();
                        //TODO 先直接刷一遍表，再轮询查看任务是否完成
                        intervalQuery(id);
                    }
                }
            })
        }
    });

    function intervalQuery(id){
        var t =setInterval(function () {
            console.log("轮询中");
            $.ajax({
                async:false,
                url: '/in_sute_demo/intervalQuery.do',
                type: 'post',
                dataType: "json",
                data: {
                    'id': id
                },
                success: function (result) {    //判断训练是否已经完成
                    if(result.res==1){
                        UpdateDT();
                        window.clearInterval(t); //回调，任务执行状态为1(已完成)，关闭轮询
                    }
                    else
                        console.log("任务正在进行中");
                }
            });
        },2000);
    }

    function UpdateDT() {
        $.ajax({
            url: '/in_sute_demo/taskNewView2.do',
            type: 'post',
            dataType: "json",
            success: function (result) {
                initList(result);
            }
        });
    };

</script>
<script>

    var res_filename;
    var res_nodeId;
    var res_path;
    var res_service;
    // $("#incompvare_table2").off("click", ".bt_do").on("click", ".bt_do", function () {
    //     var id = $('#incompvare_table2').DataTable().row($(this).parents().parents("tr")).data().id;
    //
    //     var cur_val = this.innerHTML;
    //     var action = -1;
    //     console.log(cur_val);
    //     if (cur_val.includes("无法执行")){
    //         alert("该任务目前无法进行操作！！！");
    //     }
    //     else if(cur_val.includes("重新执行")) {
    //         action = 0;
    //     }
    //     else if(cur_val.includes("中止")){
    //         action = 1;
    //     }
    //     else if(cur_val.includes("执行")){
    //         action = 2;
    //     }else {
    //         alert("该任务目前无法进行操作！！！");
    //     }
    //     $.ajax({
    //         async: false,
    //         type: "GET",
    //         dataType: "json",
    //         url: "http://localhost:8080/ywsjglprj/process/pass/" + id,
    //         timeout: 3000,
    //         success: function (data, status) {
    //             //请求执行成功后，刷新表格
    //             // UpdateDT();
    //             $('#incompvare_table2').DataTable().ajax.reload();
    //         }
    //     });
    // });

    function rnd( seed ){
        seed = ( seed * 9301 + 49297 ) % 233280; //为何使用这三个数?
        return seed / ( 233280.0 );
    };
    function rand(number){
        var today = new Date();
        var seed = today.getTime();
        return Math.ceil( rnd( seed ) * number );
    };

    function resUpload() {
        hideBox();

        var flag = true;
        if (flag == false) flag = true;
        var res_sourceID = 123;
        var res_number = document.getElementById("number-ul").value;
        var res_value = document.getElementById('price-ul').value;
        var res_type_object = document.getElementsByName('res_optional');
        var res_dou_value = document.getElementById('dou-price-ul').value;

        for (var i = 0; i < res_type_object.length; i++) {
            if (res_type_object[i].checked) {
                var item = res_type_object[i].value;
            }
        }
        var res_hash = 123456789;
        var res_text = document.getElementById('text-ul').value;

        var fileInput = $('#file-ul').get(0).files[0];
        console.info(fileInput);
        if (!fileInput) {
            alert("请选择上传文件！");
            flag = false;
        }


        else if (res_number == null || res_value == null || res_filename == null || res_dou_value == null ||
            res_path == null || res_nodeId == null || res_service == null || item == null ) {
            alert("请正确输入！");
            flag = false;
        }

        else if ( res_filename == "" || res_path == "" || res_nodeId == "" || res_service == "" || item == "") {
            alert("请正确输入文件！");
            flag = false;
        }
        else if (res_number <= 0 || res_value <= 0 || res_dou_value<= 0 || res_value<=res_dou_value) {
            alert("请正确输入！");
            flag = false;
        }
        if (flag == true) {
            if (res_text == null) {
                res_text = "null";
            }


            //res_name = "123";
            //res_number = 100;
            //res_value = 100;
            //item = "TEXT";
            //res_text = "null";

            var res_json = {
                "sourceID": res_sourceID,
                "nodeID": res_nodeId,
                "name": res_filename,
                "number": res_number,
                "value": res_value,
                "dou_value" : res_dou_value,
                "type": item,
                "hashcode": res_hash,
                "path": res_path,
                "text": res_text
            };

            $.ajax({
                type: 'POST',
                url: '/in_sute_demo/addDataSource.do',
                async: false,
                data: {
                    "sourceID": res_sourceID,
                    "nodeID": res_nodeId,
                    "name": res_filename,
                    "number": res_number,
                    "value": res_value,
                    "dou_value" : res_dou_value,
                    "type": item,
                    "hashcode": res_hash,
                    "path": res_path,
                    "text": res_text
                },
                success: function (data) { // data 保存提交后返回的数据，一般为 json 数据
                    // 此处可对 data 作相关处理
                    console.log(1);
                    if (data.state == 0) {
                        alert('提交成功！');
                        //window.location.reload(true);
                    } else alert('提交失败')
                }

            });
            $.ajax({
                type: 'POST',
                url: '/in_sute_demo/findLatestResource.do',
                data:'',
                async: false,
                success: function (data) { // data 保存提交后返回的数据，一般为 json 数据
                    // 此处可对 data 作相关处理
                    upresource(res_json,data);
                    console.log(data);
                }

            });

            document.getElementById("file-ul").reset;
            document.getElementById("number-ul").reset;
            document.getElementById("price-ul").reset;
            document.getElementById("dou-price-ul").reset;
            document.getElementById("text-ul").reset;


        }
    }

    layui.use;



    var file = document.getElementById('file-ul');
    var number = document.getElementById('number-ul');

    layui.use('form', function() {  //如果只加载一个模块，可以不填数组。如：layui.use('form')
            var form = layui.form;
            if(file!=null) {
                file.addEventListener('change', function() {

                    //file.onchange = function ()
                    {
                        var file1 = file.files[0];
                        //读取为二进制
                        var reader = new FileReader();
                        reader.readAsText(file1,'utf-8');
                        reader.onload = function () {
                            res_nodeId = null;
                            res_filename = null;
                            res_path = null;
                            res_service = null;

                            var str = String(reader.result);
                            var strArr = str.split(",");
                            if(strArr.length == 8){
                                if(strArr[0].split("=")[0] === "nodeId")res_nodeId = strArr[0].split("=")[1];
                                if(strArr[1].split("=")[0] === "name")res_filename = strArr[1].split("=")[1];
                                if(strArr[2].split("=")[0] === "number")document.getElementById("number-ul").value = strArr[2].split("=")[1];
                                if(strArr[3].split("=")[0] === "value")document.getElementById("price-ul").value = strArr[3].split("=")[1];
                                if(strArr[4].split("=")[0] === "dou_value")document.getElementById("dou-price-ul").value = strArr[4].split("=")[1];
                                if(strArr[5].split("=")[0] === "path")res_path = strArr[5].split("=")[1];
                                if(strArr[6].split("=")[0] === "type"){
                                    var type = strArr[6].split("=")[1];
                                    console.log(type);
                                    var res_type_object = document.getElementsByName('res_optional');
                                    if(type === "TEXT"){document.getElementById("res_optional_text").click();res_type_object[0].checked = true;console.log("t1");}
                                    else if(type === "ZWBZ"){document.getElementById("res_optional_image").click();res_type_object[1].checked = true;console.log("t2");}
                                    else if(type === "ZW"){document.getElementById("res_optional_module").click();res_type_object[2].checked = true;console.log("t3");}
                                    else alert("文件类型错误！");
                                    form.render();
                                }
                                if(strArr[7].split("=")[0] === "service")res_service = strArr[7].substring(8);
                                console.log(res_service);
                                console.log("end");
                            }
                            else alert("文件错误！");

                        }
                    }




                    var fileName = document.getElementById('file-ul').value;
                    document.getElementById("rank-ul").innerHTML = rand(fileName.length)%100+"";
                    if(number.value!=null)
                        document.getElementById("recom-ul").innerHTML = (rand(fileName.length)%100)*0.001*number.value+"";
                })
            }
        }
    );





    if(number!=null){
        number.addEventListener('change', function() {
            var fileName = document.getElementById('file-ul').value;
            if(fileName!=null)
                document.getElementById("recom-ul").innerHTML = (rand(fileName.length)%100)*0.001*number.value+"";
        })
    }

    function showBox() //显示隐藏层和弹出层
    {
        var hideBg=document.getElementById("hideBg");
        hideBg.style.display="block"; //显示隐藏层
        hideBg.style.height=document.body.clientHeight+"px"; //设置隐藏层的高度为当前页面高度
        document.getElementById("hideBox").style.display="block"; //显示弹出层
        //document.getElementById("number-ul").value ="1234";
    }
    function hideBox() //去除隐藏层和弹出层
    {
        document.getElementById("hideBg").style.display="none";
        document.getElementById("hideBox").style.display="none";
    }
    $(document).ready(function () {
        var res_nodeId=FLOW._base.nodeId;
        $.ajax({
            url: '/in_sute_demo/findResByNodeID.do',
            type: 'post',
            data: {
                "nodeID":res_nodeId,
            },
            dataType: "json",
            success: function (result) {
                resInitList(result);
            }


        });

        function resInitList(data) {
            $("#resTable").DataTable({
                destroy: true,
                data: data,
                autoWidth: false,
                // deferRender: true,
                lengthMenu: [5, 10, 15],
                columnDefs: [{
                    "searchable": false,
                    "orderable": false,
                    "targets": 0  //序号列不能排序也不能搜索
                }],
                columns: [{
                    data: 'sourceID',
                    title: '资源编号'

                }, {
                    data: 'name',
                    title: '资源名称'
                }, {
                    data: 'type',
                    title: '资源类型'
                },
                    {
                        data: 'number',
                        title: '资源数量'
                    },
                    {
                        data: 'value',
                        title: '资源价格'

                    },{
                        data:'dou_value',
                        title:'二次价格'

                    },
                    {
                        data: 'sourceID',
                        title: '操作',
                        "render": function (data, type, row, meta) {
                            return '<button type="button"   style="width:80px" class="btn btn-sm btn-default bt_search bt_res_text" id="res_search" ><i class="fa fa-search"></i> 查看 </button>' +'&nbsp;&nbsp;&nbsp;'+
                                '<button type="button" style="width:80px" class="btn btn-sm btn-danger bt_retrain bt_res_del"  id="res_del"><i class="fa fa-refresh\t" ></i> 删除 </button>';

                        }
                    }
                ],
                searching: false,
                ordering: false,
                language: {
                    paginate: {// 分页的样式内容。
                        previous: "上一页",
                        next: "下一页",
                        first: "第一页",
                        last: "最后"
                    },
                    info: " 总计 _TOTAL_个资源",
                    lengthMenu: "展示_MENU_ 条"
                },
                pagingType: "full_numbers"
            });
        }
    });



    $("#resTable").off("click", ".bt_res_text").on("click", ".bt_res_text", function () {
        var id = $('#resTable').DataTable().row($(this).parents().parents("tr")).data().sourceID;
        $.ajax({
            url: '/in_sute_demo/findResByresID.do',
            type: 'post',
            data: {
                "sourceID":id,
            },
            dataType: "json",
            success: function (result) {
                layer.open({
                    type: 1
                    ,title: false //不显示标题栏
                    ,closeBtn: false
                    ,area: '300px;'
                    ,shade: 0.8
                    ,id: 'LAY_layuipro' //设定一个id，防止重复弹出
                    ,btn: ['关闭']
                    ,btnAlign: 'c'
                    ,moveType: 1 //拖拽模式，0或者1
                    ,content: '<div style="padding: 50px; line-height: 22px; font-weight: 300;">'
                        +'资源名称  ：'+result["name"]+'<br/>'
                        +'资源编号  ：'+result["sourceID"]+'<br/>'
                        +'发布者编号：'+result["nodeID"]+'<br/>'
                        +'发布时间  ：'+'<br/>'+result["submit_time_str"]+'<br/>'
                        +'文件哈希  ：'+'<br/>'+result["hashcode"]+'<br/>'
                        +'注释：'+'<br/>'+result["text"]+'<br/>'
                        +'</div>'
                });
            }
        });
    });
    $("#resTable").off("click", ".bt_res_del").on("click", ".bt_res_del", function () {
        var id = $('#resTable').DataTable().row($(this).parents().parents("tr")).data().sourceID;
        //console.log(id);
        var r=confirm("确认删除吗");
        if (r==true)
            $.ajax({
                url: '/in_sute_demo/delResBySourceID.do',
                type: 'post',
                data: {
                    "sourceID":id,
                },
                dataType: "json",
                success: function (data) {
                    if(data.state==0)alert("删除成功！");
                    else alert("删除失败！");
                    window.location.reload(true);
                }
            });
    });

</script>  <!--数据发布-->
<script type="text/javascript">
    function f10() {
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/test.do',
            data: {
                'id': 22
            },
            success: function (data) { // data 保存提交后返回的数据，一般为 json 数据
                // 此处可对 data 作相关处理
                if (data.res == 1) {

                }
            }
        });
    }
    jeDate("#range1",{
        range:" To ",
        minDate:'2017-06-16 10:20:25',
        maxDate:'2019-11-18 23:59:59',
        format: 'YYYY-MM-DD hh:mm:ss'
    });
    jeDate("#range2",{
        range:" To ",
        minDate:'2017-06-16 10:20:25',
        maxDate:'2019-11-18 23:59:59',
        format: 'YYYY-MM-DD hh:mm:ss'
    });
</script>
<script type="text/javascript">
    // 百度地图API功能
    var map = new BMap.Map("allmap");    // 创建Map实例
    //map.centerAndZoom(new BMap.Point(116.404, 39.915), 6);  // 初始化地图,设置中心点坐标和地图级别
    map.centerAndZoom(new BMap.Point(100.31, 35.52), 7);

    //创建数据图标1
    var pt = new BMap.Point(119.28, 26.08);
    var myIcon = new BMap.Icon("resources/bmap-offline/images/database.png", new BMap.Size(49,48));
    var marker = new BMap.Marker(pt,{icon:myIcon});  // 创建标注

    marker.addEventListener("click",getAttr1);
    function getAttr1(){
        var id = 10001;
        var pos = marker.getPosition();       //获取marker的位置

        layer.open({
            type: 2,
            skin: 'layui-layer-rim', //加上边框
            area: ['840px', '480px'], //宽高
            content:'node_detail.html',
            shadeClose: true,
            success: function (layero, index) {
                // 获取子页面的iframe
                var iframe = window['layui-layer-iframe' + index];
                // 向子页面的全局函数child传参
                iframe.child(id);
            }
        });
    }


    map.addOverlay(marker);              // 将标注添加到地图中

    //创建数据图标2
    var pt2 = new BMap.Point(121.29, 31.11);
    var myIcon2 = new BMap.Icon("resources/bmap-offline/images/database2.png", new BMap.Size(49,48));
    var marker2 = new BMap.Marker(pt2,{icon:myIcon2});  // 创建标注

    marker2.addEventListener("click",getAttr2);
    function getAttr2(){
        var id = 10002;
        var pos = marker.getPosition();       //获取marker的位置

        layer.open({
            type: 2,
            skin: 'layui-layer-rim', //加上边框
            area: ['840px', '480px'], //宽高
            content:'node_detail.html',
            shadeClose: true,
            success: function (layero, index) {
                // 获取子页面的iframe
                var iframe = window['layui-layer-iframe' + index];
                // 向子页面的全局函数child传参
                iframe.child(id);
            }
        });
    }

    map.addOverlay(marker2);              // 将标注添加到地图中

    //创建数据图标3
    var pt3 = new BMap.Point(120.30, 30.33);
    var myIcon3 = new BMap.Icon("resources/bmap-offline/images/database3.png", new BMap.Size(49,48));
    var marker3 = new BMap.Marker(pt3,{icon:myIcon3});  // 创建标注

    marker3.addEventListener("click",getAttr3);
    function getAttr3(){
        var id = 10003;
        var pos = marker.getPosition();       //获取marker的位置

        layer.open({
            type: 2,
            skin: 'layui-layer-rim', //加上边框
            area: ['840px', '480px'], //宽高
            content:'node_detail.html',
            shadeClose: true,
            success: function (layero, index) {
                // 获取子页面的iframe
                var iframe = window['layui-layer-iframe' + index];
                // 向子页面的全局函数child传参
                iframe.child(id);
            }
        });
    }

    map.addOverlay(marker3);              // 将标注添加到地图中

    //创建中心图标
    var pt4 = new BMap.Point(118.46, 32.03);
    var myIcon4 = new BMap.Icon("resources/bmap-offline/images/center.png", new BMap.Size(91,65));
    var marker4 = new BMap.Marker(pt4,{icon:myIcon4});  // 创建标注
    map.addOverlay(marker4);              // 将标注添加到地图中

    //添加地图类型控件
    map.addControl(new BMap.MapTypeControl({
        mapTypes:[
            BMAP_NORMAL_MAP,
            BMAP_SATELLITE_MAP,
            BMAP_HYBRID_MAP
        ]}));
    //离线不支持
    //map.setCurrentCity("北京");          // 设置地图显示的城市 此项是必须设置的

    map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放

    setTimeout(function(){
        layer.msg('鼠标滚轮缩放',{'offset':'b'});
    },1000);
</script>
<!--竞派相关-->
<!--竞派相关-->
<script type="text/javascript">



    var auctioninfo="[{\"subtaskid\":\"subcompete-se\",\"nodeid\":\"3\",\"resourceid\":\"null\",\"resourcenum\":\"null\",\"donevalue\":\"10\",\"reason\":\"model\"},{\"subtaskid\":\"subcompete-se\",\"nodeid\":\"1\",\"resourceid\":\"111\",\"resourcenum\":\"100\",\"donevalue\":\"50\",\"reason\":\"Calculate\"},{\"subtaskid\":\"subcompete-se\",\"nodeid\":\"2\",\"resourceid\":\"222\",\"resourcenum\":\"200\",\"donevalue\":\"20\",\"reason\":\"Calculate\"}]";
    function auction() {
        var obj = FLOW.getCurrentFlow();
        var nodeArr = obj.nodeDataArray;
        var flag=true;

        var type;
        var model=null;
        for(var i=0;i<nodeArr.length;i++){
            switch (nodeArr[i].nodeType.toString()) {
                case ('start'): {
                }
                    break;
                case('end'):{

                }
                    break;
                case('positionModel'):{
                    type = 'ZWBZ';
                    model ="positionModel_task1";
                    flag=false;

                }
                    break;
                case('positionQuery'):{
                    type= 'ZW';
                    model=positionQuerymodel();
                }
                    break;
                case('exceptionModel'):{
                    type = 'TEXT';
                    model ="exceptionModel_task2";
                    flag=false;
                }
                    break;
                case('exceptionQuery'):{
                    type = '散点数据';
                    model=exceptionQuerymodel();
                }
                    break;
            }
        }
        //get modelid
        function positionQuerymodel(){
            var id=$("#positionQueryModelSelection option:selected").text();
            return id;
        }
        function exceptionQuerymodel() {
            var id=$("#exceptionQueryModelSelection option:selected").text();
            return id;
        }

        var userright=FLOW._base.userAuthority;
        console.log(userright)
        if(userright=='1'){
            alert("无权操作任务");
            return 0;
        }else if(userright=='2'){
            if(document.getElementById("tasktype").options[document.getElementById("tasktype").selectedIndex].value=='compete'){
                alert("无权发布竞争任务");
                return 0;
            }

            if(document.getElementById("node2").checked||document.getElementById("node3").checked){
                alert("无权使用其它属地中心数据");
                return 0;
            }

            if (flag==false){
                alert("无权训练模型");
                return 0;
            }

        }else if(userright=='3'){

            if (flag==false){
                alert("无权训练模型");
                return 0;
            }
        }

        var task_id ;
        gettaskid();
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/auction',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {"test":JSON.stringify(getTestJson())},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据
                printform(result);
                auctioninfo=result;
            }
        });
        document.getElementById("before").innerHTML = "竞派完成  向模型支付总价格的10%";
        console.info("*******");
        console.info(auctioninfo);

        function printform(data) {
            $("#auctionresult").DataTable({
                destroy: false,
                data: data,
                autoWidth: false,
                // deferRender: true,
                //'iDisplayLength': 5,
                lengthMenu: [5, 10, 20],
                columns: [{
                    data: 'subtaskid', //subtaskID
                    title: '任务编号'

                }, {
                    data: 'nodeid',
                    title: '节点名称'
                }, {
                    data: 'resourceid',
                    title: '资源id'
                },
                    {
                        data: 'resourcenum',
                        title: '资源数量'
                    },
                    {
                        data: 'donevalue',
                        title: '成交价格'

                    },{
                        data: 'reason',
                        title: '转账原因'
                    }
                ],
                searching: false,
                ordering: false,
                language: {
                    paginate: {// 分页的样式内容。
                        previous: "上一页",
                        next: "下一页",
                        first: "第一页",
                        last: "最后"
                    },
                    info: " 总计 _TOTAL_条结果",
                    lengthMenu: "展示_MENU_ 条"
                },
                pagingType: "full_numbers"

            });
        }


        // getTestJson()
        function getTestJson() {
            var foundid = "4";   //定死
            var subtaskID= task_id;      //访问数据库得到  task_id
            var totaltaskId= subtaskID; //目前totaltask==subtask

            var modleid =model;//***

            //注册模型
            var model_task=modleid.split("_");
            var taskid=model_task[1];

            var modeldata={
                "modelid":modleid,
                "taskid":taskid
            }
            upmodel(modeldata);

            console.log("************");
            console.log(modleid);
            console.log(model);
            //解析 注册 model
            function sleep(d){
                for(var t = Date.now();Date.now() - t <= d;);
            }
            sleep(3000);


            var tasktype = document.getElementById("tasktype").options[document.getElementById("tasktype").selectedIndex].value;//compete/appoint
            var rewardtype = document.getElementById("rewardtype").options[document.getElementById("rewardtype").selectedIndex].value;//secondarydistribution/ownershiptransfer
            console.log(tasktype);

            var resourcetype;
            var resourcenum;
            var taskreward;
            var appointid ;
            var appointresourcenum;
            var appointresourceid;
            var appointreward;

            if(tasktype=="compete") {
                resourcetype = type;
                resourcenum = $("#resourcenum").val();//document.getElementById("resourcenum").toString();
                taskreward = $("#competereward").val();//document.getElementById("competereward").toString();

                appointid = "null";
                appointresourcenum = "null";  //使用每个节点全部资源
                appointresourceid = "null";   //resourcetype_nodeid
                appointreward = "null";
            }else {
                resourcetype = "null";
                resourcenum = "null";
                taskreward = "null";

                appointid = "";
                appointresourcenum = "";
                appointresourceid = "";  //resource id
                var totalnum = 0;

                if (document.getElementById("node1").checked) {
                    appointid = appointid + ",10001";
                    appointresourcenum = appointresourcenum + "," + $("#num1").val().toString();
                    appointresourceid = appointresourceid + "," + " ";
                    totalnum = totalnum + parseInt($("#num1").val());

                }
                if (document.getElementById("node2").checked) {
                    appointid = appointid + ",10002";
                    appointresourcenum = appointresourcenum + "," + $("#num2").val().toString();
                    appointresourceid = appointresourceid + "," + " ";
                    totalnum = totalnum + parseInt($("#num2").val());

                }
                if (document.getElementById("node3").checked) {
                    appointid = appointid + ",10003";
                    appointresourcenum = appointresourcenum + "," + $("#num3").val().toString();
                    appointresourceid = appointresourceid + "," +  " ";
                    totalnum = totalnum + parseInt($("#num3").val());

                }

                var totalreward = parseInt($("#appointreward").val());
                appointreward = "";
                var modelnum = totalreward;

                if (document.getElementById("node1").checked) {
                    appointreward = appointreward + "," + (Math.round(totalreward / 1.1 * (parseInt($("#num1").val()) / parseInt(totalnum))));
                    modelnum = modelnum - Math.round(totalreward / 1.1 * (parseInt($("#num1").val()) / parseInt(totalnum)));
                }
                if (document.getElementById("node2").checked) {
                    appointreward = appointreward + "," + (Math.round(totalreward / 1.1 * (parseInt($("#num2").val()) / parseInt(totalnum))));
                    modelnum = modelnum - Math.round(totalreward / 1.1 * (parseInt($("#num2").val()) / parseInt(totalnum)));
                }
                if (document.getElementById("node3").checked) {
                    appointreward = appointreward + "," + (Math.round(totalreward / 1.1 * (parseInt($("#num3").val()) / parseInt(totalnum))));
                    modelnum = modelnum - Math.round(totalreward / 1.1 * (parseInt($("#num3").val()) / parseInt(totalnum)));
                }

                appointreward = appointreward + "," + (modelnum);

                appointid = appointid.substr(1, appointid.length);
                appointresourcenum = appointresourcenum.substr(1, appointresourcenum.length);
                appointresourceid = appointresourceid.substr(1, appointresourceid.length);
                appointreward = appointreward.substr(1, appointreward.length);
            }
            var Json = {
                'foundid': foundid,
                'appointid': appointid,
                'appointresourcenum': appointresourcenum,
                "appointresourceid": appointresourceid,
                'appointreward': appointreward,
                'subtaskID': subtaskID,
                'totaltaskId': totaltaskId,
                'modleid': modleid,
                'tasktype': tasktype,
                'rewardtype': rewardtype,
                'resourcetype': resourcetype,
                'resourcenum': resourcenum,
                'taskreward': taskreward
            };
            console.info(JSON.stringify(Json));
            return Json;
        }

        function gettaskid(){
            $.ajax({
                url: '/in_sute_demo/fabric/getlatesttaskid',
                type: 'get',
                dataType: "json",
                async:  false,
                success: function (result) {
                    task_id = result;
                }
            });
        }
    }

    function payandrecord(){

        console.log(auctioninfo)
        auctioninfo=JSON.stringify(auctioninfo);
        var jsdata={
            "foundid":"4",
            "str":auctioninfo
        }


        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/payandrecord',
            async: false,
            dataType: "json",
            data: {"test":JSON.stringify(jsdata)},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据
                console.log(result)
            }
        });
    }

</script>
<script type="text/javascript">

    function gethistorydataform() {

        var taskid=$("#querytaskid").val();
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/getlogs',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",

            data: {"test":taskid},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据
                printhistoryinfo(result);
                console.log(result)
            }
        });


        function printhistoryinfo(data) {
            $("#historyinfo_table").DataTable({
                destroy: true,
                data: data,
                autoWidth: false,
                // deferRender: true,
                'iDisplayLength': 5,
                lengthMenu: [5, 10, 20],
                columns: [
                    {
                        data: 'payid',
                        title: '支付节点'
                    }, {
                        data: 'getid',
                        title: '接收节点'
                    },{
                        data: 'coin',
                        title: '金额'
                    }, {
                        data: 'reason',
                        title: '支付原因'
                    }, {
                        data: 'time',
                        title: '支付时间'

                    }
                ],
                searching: false,
                ordering: false,
                language: {
                    paginate: {// 分页的样式内容。
                        previous: "上一页",
                        next: "下一页",
                        first: "第一页",
                        last: "最后"
                    },
                    info: " 总计 _TOTAL_条记录",
                    lengthMenu: "展示_MENU_ 条"
                },
                pagingType: "full_numbers"
            });
        }
    }
</script>
<script type="text/javascript">

    function getivestdata() {
        var historydata;
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/gethistory',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {"test":"4"},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据
                historydata=result;
            }
        });
        //更新账户信息
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/query',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {"test":"4"},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据
                coin=result["coin"];
                console.log(result)
            }
        });
        document.getElementById("querycoin").innerHTML = "当前属地资产：    "+coin+"（原位币）";

        console.log(historydata["historyinfo"]);
        var temp=historydata["historyinfo"];
        var data=new Array();
        for(var i=temp.length-1 ;i>=0;i--){
            var time= temp[i]["time"];
            var id ="admin";
            var coin = temp[i]["value"]["0"]["coin"];

            var json={
                "id":id,
                "time":time,
                "coin":coin
            }
            data.push(json);
        }
        $("#invest_table").DataTable({
            destroy: true,
            data: data,
            autoWidth: false,
            // deferRender: true,
            'iDisplayLength': 5,
            lengthMenu: [5, 10, 20],
            columns: [
                {
                    data: 'id',
                    title: '用户'
                },{
                    data: 'coin',
                    title: '账户金额'

                }, {
                    data: 'time',
                    title: '操作时间'
                }
            ],
            searching: false,
            ordering: false,
            language: {
                paginate: {// 分页的样式内容。
                    previous: "上一页",
                    next: "下一页",
                    first: "第一页",
                    last: "最后"
                },
                info: " 总计 _TOTAL_条记录",
                lengthMenu: "展示_MENU_ 条"
            },
            pagingType: "full_numbers"
        });
    }
    function invest(){
        var investcoin=$("#investcoin").val();
        var j={"id":"4","coin":investcoin}; //当前账户id为4
        var coin;
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/invest',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",

            data: {"test":JSON.stringify(j)},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据
                coin=result["coin"];
                console.log(result)
            }
        });
        document.getElementById("querycoin").innerHTML = "当前属地资产：    "+coin+"（原位币）";
        getivestdata()
    }
    //window.setInterval(getivestdata, 10000);

</script>
<!--竞拍资源发布and模型发布-->
<script type="text/javascript">
    <!--资源发布and模型发布-->
    function upresource(data,resid){
        /*
        var data ={
            "sourceID": "123",
            "nodeID": "1",
            "name": "name",
            "number": "500",
            "value": "500",
            "dou_value":"50",
            "type": "777",
            "hashcode": "asdfasdf",
            "path": "asdaaaaaaaaa",
            "text": "aaaaaaaasss"
        }*/

        //var obj = eval(data);

        var resourceinfo={
            "myAssetId":data["nodeID"],
            "resourceId":resid,             //从数据库读取
            "resourceType":data["type"],
            "resourceNumber":data["number"],
            "minownershiptransfervalue":data["value"],
            "minsecondarydistributionvalue":data["dou_value"],
            "taskid":"null"
        }
        console.log(resourceinfo);
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/upresource',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",
            data: {"test":JSON.stringify(resourceinfo)},
            success: function (result) { // data 保存提交后返回的数据，一般为 json 数据

                console.log(result)
            }
        });
    }

    function upmodel(modeldata){
        /*
        var modeldata={
            "modelid":"model1",
            "taskid":"test0"
        }*/
        $.ajax({
            type: 'POST',
            url: '/in_sute_demo/fabric/upmodel',
            async: false,
            //contentType: "application/json; charset=utf-8",
            dataType: "json",

            data: {"test":JSON.stringify(modeldata)},
            success: function (result) {
                console.log(result)
            }
        });
    }
</script>
<!--映射-->
<script>

    var svg = d3.select("#svg2")
    var width = svg.attr("width")
    var height = svg.attr("height")
    var g = svg.append("g")

    var dataset = [ 60, 40];

    //设置一个color的颜色比例尺，为了让不同的扇形呈现不同的颜色
    var colorScale = d3.scaleOrdinal()
        .domain(d3.range(dataset.length))
        .range(d3.schemeCategory10);

    //新建一个饼状图
    var pie = d3.pie();

    //新建一个弧形生成器
    var innerRadius = 0;//内半径
    var outerRadius = 150;//外半径
    var arc_generator = d3.arc()
        .innerRadius(0)
        .outerRadius(150);

    //将原始数据变成可以绘制饼状图的数据，
    var pieData = pie(dataset);

    //在浏览器的控制台打印pieData
    console.log(pieData);

    //在有了绘制饼状图必须的数据后，我们就可以开始绘制了
    var gs = g.selectAll(".g")
        .data(pieData)
        .enter()
        .append("g")
        .attr("transform","translate("+width/2+","+height/2+")")//位置信息

    //绘制饼状图的各个扇形
    gs.append("path")
        .attr("d",function(d){
            return arc_generator(d);//往弧形生成器中出入数据
        })
        .attr("fill",function(d,i){
            return colorScale(i);
        });
    data = [ "系统利用率",""]
    //绘制饼状图上面的文字信息
    gs.append("text")
        .attr("transform",function(d){//位置设在中心处
            return "translate("+arc_generator.centroid(d)+")";
        })
        .attr("text-anchor","middle")
        .text(function(d,i){
            return data[i];
        })

</script >
<script>

    var svg = d3.select("svg")
    var width = svg.attr("width")
    var height = svg.attr("height")
    var g = svg.append("g")

    var dataset = [ 30 , 10];

    //设置一个color的颜色比例尺，为了让不同的扇形呈现不同的颜色
    var colorScale = d3.scaleOrdinal()
        .domain(d3.range(dataset.length))
        .range(d3.schemeCategory10);

    //新建一个饼状图
    var pie = d3.pie();

    //新建一个弧形生成器
    var innerRadius = 0;//内半径
    var outerRadius = 150;//外半径
    var arc_generator = d3.arc()
        .innerRadius(0)
        .outerRadius(150);

    //将原始数据变成可以绘制饼状图的数据，
    var pieData = pie(dataset);

    //在浏览器的控制台打印pieData
    console.log(pieData);

    //在有了绘制饼状图必须的数据后，我们就可以开始绘制了
    var gs = g.selectAll(".g")
        .data(pieData)
        .enter()
        .append("g")
        .attr("transform","translate("+width/2+","+height/2+")")//位置信息

    //绘制饼状图的各个扇形
    gs.append("path")
        .attr("d",function(d){
            return arc_generator(d);//往弧形生成器中出入数据
        })
        .attr("fill",function(d,i){
            return colorScale(i);
        });
    data = [ "属地中心上线数",""]
    //绘制饼状图上面的文字信息
    gs.append("text")
        .attr("transform",function(d){//位置设在中心处
            return "translate("+arc_generator.centroid(d)+")";
        })
        .attr("text-anchor","middle")
        .text(function(d,i){
            return data[i];
        })
</script>
<!--<script>

    var svg = d3.select("#threat_pie_chart");
    var width = svg.attr("width")
    var height = svg.attr("height")
    var g = svg.append("g")
    var dataset = [ 30 , 10, 20, 25];
    var datax=["R2L","U2R","DOS","Probe"]
    var sp = d3.schemeSet2;
    //设置一个color的颜色比例尺，为了让不同的扇形呈现不同的颜色
    var colorScale = d3.scaleOrdinal()
        .domain(d3.range(dataset.length))
        .range(d3.schemeCategory10);

    //新建一个饼状图
    var pie = d3.pie();

    //新建一个弧形生成器
    var innerRadius = 0;//内半径
    var outerRadius = 150;//外半径
    var arc_generator = d3.arc()
        .innerRadius(0)
        .outerRadius(150);

    //将原始数据变成可以绘制饼状图的数据，
    var pieData = pie(dataset);

    //在浏览器的控制台打印pieData
    console.log(pieData);

    //在有了绘制饼状图必须的数据后，我们就可以开始绘制了
    var gs = g.selectAll(".g")
        .data(pieData)
        .enter()
        .append("g")
        .attr("transform","translate("+width/2+","+height/2+")")//位置信息

    //绘制饼状图的各个扇形
    gs.append("path")
        .attr("d",function(d){
            return arc_generator(d);//往弧形生成器中出入数据
        })
        .attr("fill",function(d,i){
            return colorScale(i);
        });
    data = [ "R2L","U2R","DOS","Probe"]
    //绘制饼状图上面的文字信息
    gs.append("text")
        .attr("transform",function(d){//位置设在中心处
            return "translate("+arc_generator.centroid(d)+")";
        })
        .attr("text-anchor","middle")
        .text(function(d,i){
            return data[i];
        })
    // 图例



</script>  --> <!--d3pie_chart-->
<script>
    // 基于准备好的dom，初始化echarts实例
    var myChart = echarts.init(document.getElementById('pie_chart'));
    myChart.setOption({
        title: { text: '攻击数量占比'},
        series : [
            {
                type: 'pie',    // 设置图表类型为饼图
                radius: '55%',  // 饼图的半径，外半径为可视区尺寸（容器高宽中较小一项）的 55% 长度。
                data:[          // 数据数组，name 为数据项名称，value 为数据项值
                    {value:235, name:'中心1'},
                    {value:274, name:'中心2'},
                    {value:310, name:'中心3'},
                    {value:335, name:'中心4'},
                ]
            }
        ]
    });

    var warningPie = echarts.init(document.getElementById('warning_pie_chart'));
    warningPie.setOption({
        title: { text: '真假警告'},
        series : [
            {
                type: 'pie',    // 设置图表类型为饼图
                radius: '55%',  // 饼图的半径，外半径为可视区尺寸（容器高宽中较小一项）的 55% 长度。
                data:[          // 数据数组，name 为数据项名称，value 为数据项值
                    {value:535, name:'确认'},
                    {value:274, name:'误报'}
                ]
            }
        ]
    });

    var processLine =  echarts.init(document.getElementById('process_line_chart'));
    processLine.setOption({
        title:{
            text:'真假警告'
        },
        xAxis:{
            // type:'category',
            data:['类别1','类别2','类别3','类别4']
        },
        yAxis:{},
        legend: {
            data: ['系列1', '系列2']
        },
        series:[

            {
                name: '系列1', // 系列名称
                type: 'line', // 类型：线
                data: [2,3,5,7], // 数据
                label: {
                    normal: {
                        show: true,
                        //position: 'bottom', // 文字位置
                        // 显示的文字
                        formatter: '{c}',
                        textStyle: {
                            color: '#000' // 文字颜色
                        }
                    }
                },
               /* markPoint: {
                    // 标注图形数据
                    data: [{
                        type: 'max', // 类型
                        symbol: 'pin', // 标志图形类型，默认自动选择（8种类型循环使用，不显示标志图形可设为'none'），默认循环选择类型有：'circle' | 'rectangle' | 'triangle' | 'diamond' |'emptyCircle' | 'emptyRectangle' | 'emptyTriangle' | 'emptyDiamond' 另外，还支持五种更特别的标志图形'heart'（心形）、'droplet'（水滴）、'pin'（标注）、'arrow'（箭头）和'star'（五角星），这并不出现在常规的8类图形中，但无论是在系列级还是数据级上你都可以指定使用，同时，'star' + n（n>=3)可变化出N角星，如指定为'star6'则可以显示6角星
                        name: '最大值'
                    },
                        {
                            type: 'min', // 类型
                            symbol: 'pin',
                            name: '最小值'
                        },
                    ],
                    // 特殊标注文字
                    label: {
                        normal: {
                            show: true,
                            //position: 'top', // 文字位置
                            // 显示的文字
                            formatter: '{b}：{c}',
                        }
                    },
                    // 触发操作
                    tooltip: {
                        show: true, // 是否显示
                        formatter: '{b}：{c}', // 内容格式器 a（系列名称），b（类目值），c（数值）, d（无）
                        trigger: 'item', // 触发类型，默认数据触发，见下图，可选为：'item' | 'axis'
                    },
                },
                markLine: {
                    data: [{
                        type: 'average',
                        name: '平均值',
                        itemStyle: {
                            normal: {
                                color: 'orange'
                            }
                        }
                    }]
                },*/
                // 折线图圆点

            },
            {
                name: '系列2', // 系列名称
                type: 'line', // 类型：线
                data: [3,4,2,5], // 数据
                label: {
                    normal: {
                        show: true,
                        //position: 'bottom', // 文字位置
                        // 显示的文字
                        formatter: '{c}',
                        textStyle: {
                            color: '#000' // 文字颜色
                        }
                    }
                },
            }
        ]

    })

    var system_line_chart = echarts.init(document.getElementById('line_chart'));
    system_line_chart.setOption({
        visualMap: [{
            show: false,
            type: 'continuous',
            seriesIndex: 0,
            min: 0,
            max: 70
        }],
        xAxis: {
            type: 'time',
            name:'日期'
        },
        yAxis: {
            type: 'value',
            name:'异常数'
        },
        title:{
            text:'整体安全态势'
        },
        series:{
            type:'line',
            showSymbol: 'false',
            data:[{value:['2020/2/17',54]},{value:['2020/2/18',38]},{value:['2020/2/19',65]},{value:['2020/2/20',27]},{value:['2020/2/21',33]},{value:['2020/2/22',45]},{value:['2020/2/23',35]}]
        }
    })
</script>
<script>
    echarts.init(document.getElementById('bar_chart')).setOption({
        //tooltip: {},

        dataset: {
            // 提供一份数据。
            source: [
                ['DOS', 123],
                ['U2R', 235],
                ['R2L',289],
                ['Probe',357 ],
            ]
        },
        title: { text: '攻击数量统计'},

        // 声明一个 X 轴，类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。
        xAxis: {type: 'category'},
        // 声明一个 Y 轴，数值轴。
        yAxis: {},
        // 声明多个 bar 系列，默认情况下，每个系列会自动对应到 dataset 的每一列。
        series: [
            {type: 'bar',
                itemStyle: {
                    normal: {
                        name:['DOS', 'U2R','R2L', 'Probe'],
                        color: function(params) {
                            //注意，如果颜色太少的话，后面颜色不会自动循环，最好多定义几个颜色
                            var colorList = ['#c23531','#2f4554', '#61a0a8', '#d48265', '#91c7ae','#749f83', '#ca8622'];
                            return colorList[params.dataIndex]
                        }
                    }
                }
            },
        ]
    });

    echarts.init(document.getElementById('ring_chart')).setOption({
        //tooltip: {},
       /* legend: {  //图例
            orient: 'vertical',  //图例的布局，竖直    horizontal为水平
            x: 'right',//图例显示在右边
            data:['计算中心1','计算中心2','计算中心3','计算中心4','计算中心5','计算中心6','计算中心7','计算中心8','计算中心9','计算中心10'],
            textStyle:{    //图例文字的样式
                color:'#333',  //文字颜色
                fontSize:10    //文字大小
            }
        },*/
       /* dataset: {
            // 提供一份数据。
            source: [
                ['DOS', 123],
                ['U2R', 235],
                ['R2L',289],
                ['Probe',357 ],
            ]
        },*/
        title: { text: '子网权重占比'},

        series: [
            {
                type: 'pie',
               /* itemStyle: {
                    normal: {
                        name:['DOS', 'U2R','R2L', 'Probe'],
                        color: function(params) {
                            //注意，如果颜色太少的话，后面颜色不会自动循环，最好多定义几个颜色
                            var colorList = ['#c23531','#2f4554', '#61a0a8', '#d48265', '#91c7ae','#749f83', '#ca8622'];
                            return colorList[params.dataIndex]
                        }
                    }
                },*/
                radius: ['30%', '45%'],//饼图的半径，第一个为内半径，第二个为外半径
                avoidLabelOverlap: false,
                label: {
                    normal: {  //正常的样式
                        show: true,
                        position: 'left'
                    },
                    emphasis: { //选中时候的样式
                        show: true,
                        textStyle: {
                            fontSize: '20',
                            fontWeight: 'bold'
                        }
                    }
                },  //提示文字
                color:['#c23531','#2f4554', '#61a0a8', '#d48265', '#91c7ae','#749f83', '#ca8622','#4CD0DD','#DF86F0','#F5A7C1'],
                data:[
                    {value:335, name:'计算中心1'},
                    {value:310, name:'计算中心2'},
                    {value:234, name:'计算中心3'},
                    {value:135, name:'计算中心4'},
                    {value:1548, name:'计算中心5'},
                    {value:356,name:'计算中心6'},
                    {value:452,name:'计算中心7'},
                    {value:278,name:'计算中心8'},
                    {value:327,name:'计算中心9'},
                    {value:568,name:'计算中心10'}
                ]

            },
        ]
    });

    echarts.init(document.getElementById('pie_line_chart')).setOption({
        title: { text: '单日态势'},

        // 声明一个 X 轴，类目轴（category）。默认情况下，类目轴对应到 dataset 第一列。
        xAxis: {
            type: 'time',
            name:'时间'
        },
        // 声明一个 Y 轴，数值轴。
        yAxis: {
            type:'value',
            name:'异常数'
        },
        series:[{
            type:'line',
            showSymbol: 'false',
            data:[{value:['2020/2/17 0:12:24',34]},{value:['2020/2/17 1:32:26',47]},{value:['2020/2/17 3:42:36',54]},{value:['2020/2/17 4:32:26',44]},{value:['2020/2/17 6:38:08',38]},{value:['2020/2/17 7:52:26',49]},{value:['2020/2/17 10:02:57',65]},{value:['2020/2/17 11:23:27',34]},{value:['2020/2/17 13:35:27',57]},{value:['2020/2/17 15:22:56',38]},{value:['2020/2/17 16:47:33',62]},{value:['2020/2/17 17:52:26',54]},{value:['2020/2/17 19:50:21',35]},{value:['2020/2/17 20:42:26',48]},{value:['2020/2/17 22:34:46',29]},{value:['2020/2/17 23:39:13',54]},]
        },{
            type:'bar',
            data:[{value:['2020/2/17 0:12:24',34]},{value:['2020/2/17 1:32:26',47]},{value:['2020/2/17 3:42:36',54]},{value:['2020/2/17 4:32:26',44]},{value:['2020/2/17 6:38:08',38]},{value:['2020/2/17 7:52:26',49]},{value:['2020/2/17 10:02:57',65]},{value:['2020/2/17 11:23:27',34]},{value:['2020/2/17 13:35:27',57]},{value:['2020/2/17 15:22:56',38]},{value:['2020/2/17 16:47:33',62]},{value:['2020/2/17 17:52:26',54]},{value:['2020/2/17 19:50:21',35]},{value:['2020/2/17 20:42:26',48]},{value:['2020/2/17 22:34:46',29]},{value:['2020/2/17 23:39:13',54]},]
        }]
    });

    $("#threat_table").DataTable({
        destroy: true,
        autoWidth: false,
        // deferRender: true,
        //'iDisplayLength': 5,
        // lengthMenu:false,
        bLengthChange:false,
        searching: false,
        ordering: false,
        language: {
            paginate: {// 分页的样式内容。
                previous: "上一页",
                next: "下一页",
                first: "第一页",
                last: "最后"
            },
            info: " 总计 _TOTAL_个任务",
            lengthMenu: "展示_MENU_ 条",
        },
        pagingType: "full_numbers",
        info:false
    });

    $("#process_threat_table").DataTable({
        data:[['1','user','2020/2/15 12:23:31'],
            ['2','user2','2020/2/16 15:34:44'],
            ['3','user3','2020/2/17 16:41:44'],
            ['4','user4','2020/2/18 17:24:14'],
            ['5','user5','2020/2/19 21:34:24'],
            // ['6','user6','2020/2/21 22:31:12']
        ],
        destroy: true,
        autoWidth: false,
        // deferRender: true,
        //'iDisplayLength': 5,
        // lengthMenu:false,
        bLengthChange:false,
        searching: false,
        ordering: false,
        language: {
            paginate: {// 分页的样式内容。
                previous: "上一页",
                next: "下一页",
                first: "第一页",
                last: "最后"
            },
            info: " 总计 _TOTAL_个任务",
            lengthMenu: "展示_MENU_ 条",
        },
        pagingType: "full_numbers",
        info:false
    });
    $('#process_threat_table tr:eq(1)').css('backgroundColor','#EBF8FF')

    $("#detail").DataTable({
        /*data:[['1','user','2020/2/15 12:23:31'],
            ['2','user2','2020/2/16 15:34:44'],
            ['3','user3','2020/2/17 16:41:44'],
            ['4','user4','2020/2/18 17:24:14'],
            ['5','user5','2020/2/19 21:34:24']
            // ['6','user6','2020/2/21 22:31:12']
        ],*/
        destroy: true,
        autoWidth: false,
        // deferRender: true,
        //'iDisplayLength': 5,
        // lengthMenu:false,
        bLengthChange:false,
        searching: false,
        ordering: false,
        language: {
            paginate: {// 分页的样式内容。
                previous: "上一页",
                next: "下一页",
                first: "第一页",
                last: "最后"
            },
            info: " 总计 _TOTAL_个任务",
            lengthMenu: "展示_MENU_ 条",
        },
        paging:false,
        info:false
    });

/*    var ftr = $($('#eventdata tr')[1]);
    ftr.trigger("click");*/
</script>  <!--bar_chart-->
<script>
    $(document).ready(initSwitch())
    function initSwitch(){
        $('#sign').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
        $('#email').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
        $('#online').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
        $('#document').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
        $('#mobie').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
        $('#mind').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
        $('#userData').bootstrapSwitch({
            onText : "启用",      // 设置ON文本
            offText : "禁用",    // 设置OFF文本
            onColor : "success",// 设置ON文本颜色(info/success/warning/danger/primary)
            offColor : "warning",  // 设置OFF文本颜色 (info/success/warning/danger/primary)
            size : "small",    // 设置控件大小,从小到大  (mini/small/normal/large)
            // 当开关状态改变时触发
            /*onSwitchChange : function(event, state) {
                if (state == true) {
                    alert("ON");
                } else {
                    alert("OFF");
                }
            }*/

        })
    }
</script>
</html>